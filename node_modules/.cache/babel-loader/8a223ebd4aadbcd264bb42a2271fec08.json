{"ast":null,"code":"/*! version : 4.17.47\n =========================================================\n bootstrap-datetimejs\n https://github.com/Eonasdan/bootstrap-datetimepicker\n Copyright (c) 2015 Jonathan Peterson\n =========================================================\n */\n\n/*\n The MIT License (MIT)\n\n Copyright (c) 2015 Jonathan Peterson\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n */\n\n/*global define:false */\n\n/*global exports:false */\n\n/*global require:false */\n\n/*global jQuery:false */\n\n/*global moment:false */\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD is used - Register as an anonymous module.\n    define(['jquery', 'moment'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('jquery'), require('moment'));\n  } else {\n    // Neither AMD nor CommonJS used. Use global variables.\n    if (typeof jQuery === 'undefined') {\n      throw 'bootstrap-datetimepicker requires jQuery to be loaded first';\n    }\n\n    if (typeof moment === 'undefined') {\n      throw 'bootstrap-datetimepicker requires Moment.js to be loaded first';\n    }\n\n    factory(jQuery, moment);\n  }\n})(function ($, moment) {\n  'use strict';\n\n  if (!moment) {\n    throw new Error('bootstrap-datetimepicker requires Moment.js to be loaded first');\n  }\n\n  var dateTimePicker = function (element, options) {\n    var picker = {},\n        date,\n        viewDate,\n        unset = true,\n        input,\n        component = false,\n        widget = false,\n        use24Hours,\n        minViewModeNumber = 0,\n        actualFormat,\n        parseFormats,\n        currentViewMode,\n        datePickerModes = [{\n      clsName: 'days',\n      navFnc: 'M',\n      navStep: 1\n    }, {\n      clsName: 'months',\n      navFnc: 'y',\n      navStep: 1\n    }, {\n      clsName: 'years',\n      navFnc: 'y',\n      navStep: 10\n    }, {\n      clsName: 'decades',\n      navFnc: 'y',\n      navStep: 100\n    }],\n        viewModes = ['days', 'months', 'years', 'decades'],\n        verticalModes = ['top', 'bottom', 'auto'],\n        horizontalModes = ['left', 'right', 'auto'],\n        toolbarPlacements = ['default', 'top', 'bottom'],\n        keyMap = {\n      'up': 38,\n      38: 'up',\n      'down': 40,\n      40: 'down',\n      'left': 37,\n      37: 'left',\n      'right': 39,\n      39: 'right',\n      'tab': 9,\n      9: 'tab',\n      'escape': 27,\n      27: 'escape',\n      'enter': 13,\n      13: 'enter',\n      'pageUp': 33,\n      33: 'pageUp',\n      'pageDown': 34,\n      34: 'pageDown',\n      'shift': 16,\n      16: 'shift',\n      'control': 17,\n      17: 'control',\n      'space': 32,\n      32: 'space',\n      't': 84,\n      84: 't',\n      'delete': 46,\n      46: 'delete'\n    },\n        keyState = {},\n\n    /********************************************************************************\n     *\n     * Private functions\n     *\n     ********************************************************************************/\n    hasTimeZone = function () {\n      return moment.tz !== undefined && options.timeZone !== undefined && options.timeZone !== null && options.timeZone !== '';\n    },\n        getMoment = function (d) {\n      var returnMoment;\n\n      if (d === undefined || d === null) {\n        returnMoment = moment(); //TODO should this use format? and locale?\n      } else if (moment.isDate(d) || moment.isMoment(d)) {\n        // If the date that is passed in is already a Date() or moment() object,\n        // pass it directly to moment.\n        returnMoment = moment(d);\n      } else if (hasTimeZone()) {\n        // There is a string to parse and a default time zone\n        // parse with the tz function which takes a default time zone if it is not in the format string\n        returnMoment = moment.tz(d, parseFormats, options.useStrict, options.timeZone);\n      } else {\n        returnMoment = moment(d, parseFormats, options.useStrict);\n      }\n\n      if (hasTimeZone()) {\n        returnMoment.tz(options.timeZone);\n      }\n\n      return returnMoment;\n    },\n        isEnabled = function (granularity) {\n      if (typeof granularity !== 'string' || granularity.length > 1) {\n        throw new TypeError('isEnabled expects a single character string parameter');\n      }\n\n      switch (granularity) {\n        case 'y':\n          return actualFormat.indexOf('Y') !== -1;\n\n        case 'M':\n          return actualFormat.indexOf('M') !== -1;\n\n        case 'd':\n          return actualFormat.toLowerCase().indexOf('d') !== -1;\n\n        case 'h':\n        case 'H':\n          return actualFormat.toLowerCase().indexOf('h') !== -1;\n\n        case 'm':\n          return actualFormat.indexOf('m') !== -1;\n\n        case 's':\n          return actualFormat.indexOf('s') !== -1;\n\n        default:\n          return false;\n      }\n    },\n        hasTime = function () {\n      return isEnabled('h') || isEnabled('m') || isEnabled('s');\n    },\n        hasDate = function () {\n      return isEnabled('y') || isEnabled('M') || isEnabled('d');\n    },\n        getDatePickerTemplate = function () {\n      var headTemplate = $('<thead>').append($('<tr>').append($('<th>').addClass('prev').attr('data-action', 'previous').append($('<i>').addClass(options.icons.previous))).append($('<th>').addClass('picker-switch').attr('data-action', 'pickerSwitch').attr('colspan', options.calendarWeeks ? '6' : '5')).append($('<th>').addClass('next').attr('data-action', 'next').append($('<i>').addClass(options.icons.next)))),\n          contTemplate = $('<tbody>').append($('<tr>').append($('<td>').attr('colspan', options.calendarWeeks ? '8' : '7')));\n      return [$('<div>').addClass('datepicker-days').append($('<table>').addClass('table-condensed').append(headTemplate).append($('<tbody>'))), $('<div>').addClass('datepicker-months').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())), $('<div>').addClass('datepicker-years').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())), $('<div>').addClass('datepicker-decades').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone()))];\n    },\n        getTimePickerMainTemplate = function () {\n      var topRow = $('<tr>'),\n          middleRow = $('<tr>'),\n          bottomRow = $('<tr>');\n\n      if (isEnabled('h')) {\n        topRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.incrementHour\n        }).addClass('btn').attr('data-action', 'incrementHours').append($('<i>').addClass(options.icons.up))));\n        middleRow.append($('<td>').append($('<span>').addClass('timepicker-hour').attr({\n          'data-time-component': 'hours',\n          'title': options.tooltips.pickHour\n        }).attr('data-action', 'showHours')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.decrementHour\n        }).addClass('btn').attr('data-action', 'decrementHours').append($('<i>').addClass(options.icons.down))));\n      }\n\n      if (isEnabled('m')) {\n        if (isEnabled('h')) {\n          topRow.append($('<td>').addClass('separator'));\n          middleRow.append($('<td>').addClass('separator').html(':'));\n          bottomRow.append($('<td>').addClass('separator'));\n        }\n\n        topRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.incrementMinute\n        }).addClass('btn').attr('data-action', 'incrementMinutes').append($('<i>').addClass(options.icons.up))));\n        middleRow.append($('<td>').append($('<span>').addClass('timepicker-minute').attr({\n          'data-time-component': 'minutes',\n          'title': options.tooltips.pickMinute\n        }).attr('data-action', 'showMinutes')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.decrementMinute\n        }).addClass('btn').attr('data-action', 'decrementMinutes').append($('<i>').addClass(options.icons.down))));\n      }\n\n      if (isEnabled('s')) {\n        if (isEnabled('m')) {\n          topRow.append($('<td>').addClass('separator'));\n          middleRow.append($('<td>').addClass('separator').html(':'));\n          bottomRow.append($('<td>').addClass('separator'));\n        }\n\n        topRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.incrementSecond\n        }).addClass('btn').attr('data-action', 'incrementSeconds').append($('<i>').addClass(options.icons.up))));\n        middleRow.append($('<td>').append($('<span>').addClass('timepicker-second').attr({\n          'data-time-component': 'seconds',\n          'title': options.tooltips.pickSecond\n        }).attr('data-action', 'showSeconds')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.decrementSecond\n        }).addClass('btn').attr('data-action', 'decrementSeconds').append($('<i>').addClass(options.icons.down))));\n      }\n\n      if (!use24Hours) {\n        topRow.append($('<td>').addClass('separator'));\n        middleRow.append($('<td>').append($('<button>').addClass('btn btn-primary').attr({\n          'data-action': 'togglePeriod',\n          tabindex: '-1',\n          'title': options.tooltips.togglePeriod\n        })));\n        bottomRow.append($('<td>').addClass('separator'));\n      }\n\n      return $('<div>').addClass('timepicker-picker').append($('<table>').addClass('table-condensed').append([topRow, middleRow, bottomRow]));\n    },\n        getTimePickerTemplate = function () {\n      var hoursView = $('<div>').addClass('timepicker-hours').append($('<table>').addClass('table-condensed')),\n          minutesView = $('<div>').addClass('timepicker-minutes').append($('<table>').addClass('table-condensed')),\n          secondsView = $('<div>').addClass('timepicker-seconds').append($('<table>').addClass('table-condensed')),\n          ret = [getTimePickerMainTemplate()];\n\n      if (isEnabled('h')) {\n        ret.push(hoursView);\n      }\n\n      if (isEnabled('m')) {\n        ret.push(minutesView);\n      }\n\n      if (isEnabled('s')) {\n        ret.push(secondsView);\n      }\n\n      return ret;\n    },\n        getToolbar = function () {\n      var row = [];\n\n      if (options.showTodayButton) {\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'today',\n          'title': options.tooltips.today\n        }).append($('<i>').addClass(options.icons.today))));\n      }\n\n      if (!options.sideBySide && hasDate() && hasTime()) {\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'togglePicker',\n          'title': options.tooltips.selectTime\n        }).append($('<i>').addClass(options.icons.time))));\n      }\n\n      if (options.showClear) {\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'clear',\n          'title': options.tooltips.clear\n        }).append($('<i>').addClass(options.icons.clear))));\n      }\n\n      if (options.showClose) {\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'close',\n          'title': options.tooltips.close\n        }).append($('<i>').addClass(options.icons.close))));\n      }\n\n      return $('<table>').addClass('table-condensed').append($('<tbody>').append($('<tr>').append(row)));\n    },\n        getTemplate = function () {\n      var template = $('<div>').addClass('bootstrap-datetimepicker-widget dropdown-menu'),\n          dateView = $('<div>').addClass('datepicker').append(getDatePickerTemplate()),\n          timeView = $('<div>').addClass('timepicker').append(getTimePickerTemplate()),\n          content = $('<ul>').addClass('list-unstyled'),\n          toolbar = $('<li>').addClass('picker-switch' + (options.collapse ? ' accordion-toggle' : '')).append(getToolbar());\n\n      if (options.inline) {\n        template.removeClass('dropdown-menu');\n      }\n\n      if (use24Hours) {\n        template.addClass('usetwentyfour');\n      }\n\n      if (isEnabled('s') && !use24Hours) {\n        template.addClass('wider');\n      }\n\n      if (options.sideBySide && hasDate() && hasTime()) {\n        template.addClass('timepicker-sbs');\n\n        if (options.toolbarPlacement === 'top') {\n          template.append(toolbar);\n        }\n\n        template.append($('<div>').addClass('row').append(dateView.addClass('col-md-6')).append(timeView.addClass('col-md-6')));\n\n        if (options.toolbarPlacement === 'bottom') {\n          template.append(toolbar);\n        }\n\n        return template;\n      }\n\n      if (options.toolbarPlacement === 'top') {\n        content.append(toolbar);\n      }\n\n      if (hasDate()) {\n        content.append($('<li>').addClass(options.collapse && hasTime() ? 'collapse show' : '').append(dateView));\n      }\n\n      if (options.toolbarPlacement === 'default') {\n        content.append(toolbar);\n      }\n\n      if (hasTime()) {\n        content.append($('<li>').addClass(options.collapse && hasDate() ? 'collapse' : '').append(timeView));\n      }\n\n      if (options.toolbarPlacement === 'bottom') {\n        content.append(toolbar);\n      }\n\n      return template.append(content);\n    },\n        dataToOptions = function () {\n      var eData,\n          dataOptions = {};\n\n      if (element.is('input') || options.inline) {\n        eData = element.data();\n      } else {\n        eData = element.find('input').data();\n      }\n\n      if (eData.dateOptions && eData.dateOptions instanceof Object) {\n        dataOptions = $.extend(true, dataOptions, eData.dateOptions);\n      }\n\n      $.each(options, function (key) {\n        var attributeName = 'date' + key.charAt(0).toUpperCase() + key.slice(1);\n\n        if (eData[attributeName] !== undefined) {\n          dataOptions[key] = eData[attributeName];\n        }\n      });\n      return dataOptions;\n    },\n        place = function () {\n      var position = (component || element).position(),\n          offset = (component || element).offset(),\n          vertical = options.widgetPositioning.vertical,\n          horizontal = options.widgetPositioning.horizontal,\n          parent;\n\n      if (options.widgetParent) {\n        parent = options.widgetParent.append(widget);\n      } else if (element.is('input')) {\n        parent = element.after(widget).parent();\n      } else if (options.inline) {\n        parent = element.append(widget);\n        return;\n      } else {\n        parent = element;\n        element.children().first().after(widget);\n      } // Top and bottom logic\n\n\n      if (vertical === 'auto') {\n        if (offset.top + widget.height() * 1.5 >= $(window).height() + $(window).scrollTop() && widget.height() + element.outerHeight() < offset.top) {\n          vertical = 'top';\n        } else {\n          vertical = 'bottom';\n        }\n      } // Left and right logic\n\n\n      if (horizontal === 'auto') {\n        if (parent.width() < offset.left + widget.outerWidth() / 2 && offset.left + widget.outerWidth() > $(window).width()) {\n          horizontal = 'right';\n        } else {\n          horizontal = 'left';\n        }\n      }\n\n      if (vertical === 'top') {\n        widget.addClass('top').removeClass('bottom');\n      } else {\n        widget.addClass('bottom').removeClass('top');\n      }\n\n      if (horizontal === 'right') {\n        widget.addClass('pull-right');\n      } else {\n        widget.removeClass('pull-right');\n      } // find the first parent element that has a non-static css positioning\n\n\n      if (parent.css('position') === 'static') {\n        parent = parent.parents().filter(function () {\n          return $(this).css('position') !== 'static';\n        }).first();\n      }\n\n      if (parent.length === 0) {\n        throw new Error('datetimepicker component should be placed within a non-static positioned container');\n      }\n\n      widget.css({\n        top: vertical === 'top' ? 'auto' : position.top + element.outerHeight(),\n        bottom: vertical === 'top' ? parent.outerHeight() - (parent === element ? 0 : position.top) : 'auto',\n        left: horizontal === 'left' ? parent === element ? 0 : position.left : 'auto',\n        right: horizontal === 'left' ? 'auto' : parent.outerWidth() - element.outerWidth() - (parent === element ? 0 : position.left)\n      });\n    },\n        notifyEvent = function (e) {\n      if (e.type === 'dp.change' && (e.date && e.date.isSame(e.oldDate) || !e.date && !e.oldDate)) {\n        return;\n      }\n\n      element.trigger(e);\n    },\n        viewUpdate = function (e) {\n      if (e === 'y') {\n        e = 'YYYY';\n      }\n\n      notifyEvent({\n        type: 'dp.update',\n        change: e,\n        viewDate: viewDate.clone()\n      });\n    },\n        showMode = function (dir) {\n      if (!widget) {\n        return;\n      }\n\n      if (dir) {\n        currentViewMode = Math.max(minViewModeNumber, Math.min(3, currentViewMode + dir));\n      }\n\n      widget.find('.datepicker > div').hide().filter('.datepicker-' + datePickerModes[currentViewMode].clsName).show();\n    },\n        fillDow = function () {\n      var row = $('<tr>'),\n          currentDate = viewDate.clone().startOf('w').startOf('d');\n\n      if (options.calendarWeeks === true) {\n        row.append($('<th>').addClass('cw').text('#'));\n      }\n\n      while (currentDate.isBefore(viewDate.clone().endOf('w'))) {\n        row.append($('<th>').addClass('dow').text(currentDate.format('dd')));\n        currentDate.add(1, 'd');\n      }\n\n      widget.find('.datepicker-days thead').append(row);\n    },\n        isInDisabledDates = function (testDate) {\n      return options.disabledDates[testDate.format('YYYY-MM-DD')] === true;\n    },\n        isInEnabledDates = function (testDate) {\n      return options.enabledDates[testDate.format('YYYY-MM-DD')] === true;\n    },\n        isInDisabledHours = function (testDate) {\n      return options.disabledHours[testDate.format('H')] === true;\n    },\n        isInEnabledHours = function (testDate) {\n      return options.enabledHours[testDate.format('H')] === true;\n    },\n        isValid = function (targetMoment, granularity) {\n      if (!targetMoment.isValid()) {\n        return false;\n      }\n\n      if (options.disabledDates && granularity === 'd' && isInDisabledDates(targetMoment)) {\n        return false;\n      }\n\n      if (options.enabledDates && granularity === 'd' && !isInEnabledDates(targetMoment)) {\n        return false;\n      }\n\n      if (options.minDate && targetMoment.isBefore(options.minDate, granularity)) {\n        return false;\n      }\n\n      if (options.maxDate && targetMoment.isAfter(options.maxDate, granularity)) {\n        return false;\n      }\n\n      if (options.daysOfWeekDisabled && granularity === 'd' && options.daysOfWeekDisabled.indexOf(targetMoment.day()) !== -1) {\n        return false;\n      }\n\n      if (options.disabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && isInDisabledHours(targetMoment)) {\n        return false;\n      }\n\n      if (options.enabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && !isInEnabledHours(targetMoment)) {\n        return false;\n      }\n\n      if (options.disabledTimeIntervals && (granularity === 'h' || granularity === 'm' || granularity === 's')) {\n        var found = false;\n        $.each(options.disabledTimeIntervals, function () {\n          if (targetMoment.isBetween(this[0], this[1])) {\n            found = true;\n            return false;\n          }\n        });\n\n        if (found) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n        fillMonths = function () {\n      var spans = [],\n          monthsShort = viewDate.clone().startOf('y').startOf('d');\n\n      while (monthsShort.isSame(viewDate, 'y')) {\n        spans.push($('<span>').attr('data-action', 'selectMonth').addClass('month').text(monthsShort.format('MMM')));\n        monthsShort.add(1, 'M');\n      }\n\n      widget.find('.datepicker-months td').empty().append(spans);\n    },\n        updateMonths = function () {\n      var monthsView = widget.find('.datepicker-months'),\n          monthsViewHeader = monthsView.find('th'),\n          months = monthsView.find('tbody').find('span');\n      monthsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevYear);\n      monthsViewHeader.eq(1).attr('title', options.tooltips.selectYear);\n      monthsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextYear);\n      monthsView.find('.disabled').removeClass('disabled');\n\n      if (!isValid(viewDate.clone().subtract(1, 'y'), 'y')) {\n        monthsViewHeader.eq(0).addClass('disabled');\n      }\n\n      monthsViewHeader.eq(1).text(viewDate.year());\n\n      if (!isValid(viewDate.clone().add(1, 'y'), 'y')) {\n        monthsViewHeader.eq(2).addClass('disabled');\n      }\n\n      months.removeClass('active');\n\n      if (date.isSame(viewDate, 'y') && !unset) {\n        months.eq(date.month()).addClass('active');\n      }\n\n      months.each(function (index) {\n        if (!isValid(viewDate.clone().month(index), 'M')) {\n          $(this).addClass('disabled');\n        }\n      });\n    },\n        updateYears = function () {\n      var yearsView = widget.find('.datepicker-years'),\n          yearsViewHeader = yearsView.find('th'),\n          startYear = viewDate.clone().subtract(5, 'y'),\n          endYear = viewDate.clone().add(6, 'y'),\n          html = '';\n      yearsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevDecade);\n      yearsViewHeader.eq(1).attr('title', options.tooltips.selectDecade);\n      yearsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextDecade);\n      yearsView.find('.disabled').removeClass('disabled');\n\n      if (options.minDate && options.minDate.isAfter(startYear, 'y')) {\n        yearsViewHeader.eq(0).addClass('disabled');\n      }\n\n      yearsViewHeader.eq(1).text(startYear.year() + '-' + endYear.year());\n\n      if (options.maxDate && options.maxDate.isBefore(endYear, 'y')) {\n        yearsViewHeader.eq(2).addClass('disabled');\n      }\n\n      while (!startYear.isAfter(endYear, 'y')) {\n        html += '<span data-action=\"selectYear\" class=\"year' + (startYear.isSame(date, 'y') && !unset ? ' active' : '') + (!isValid(startYear, 'y') ? ' disabled' : '') + '\">' + startYear.year() + '</span>';\n        startYear.add(1, 'y');\n      }\n\n      yearsView.find('td').html(html);\n    },\n        updateDecades = function () {\n      var decadesView = widget.find('.datepicker-decades'),\n          decadesViewHeader = decadesView.find('th'),\n          startDecade = moment({\n        y: viewDate.year() - viewDate.year() % 100 - 1\n      }),\n          endDecade = startDecade.clone().add(100, 'y'),\n          startedAt = startDecade.clone(),\n          minDateDecade = false,\n          maxDateDecade = false,\n          endDecadeYear,\n          html = '';\n      decadesViewHeader.eq(0).find('span').attr('title', options.tooltips.prevCentury);\n      decadesViewHeader.eq(2).find('span').attr('title', options.tooltips.nextCentury);\n      decadesView.find('.disabled').removeClass('disabled');\n\n      if (startDecade.isSame(moment({\n        y: 1900\n      })) || options.minDate && options.minDate.isAfter(startDecade, 'y')) {\n        decadesViewHeader.eq(0).addClass('disabled');\n      }\n\n      decadesViewHeader.eq(1).text(startDecade.year() + '-' + endDecade.year());\n\n      if (startDecade.isSame(moment({\n        y: 2000\n      })) || options.maxDate && options.maxDate.isBefore(endDecade, 'y')) {\n        decadesViewHeader.eq(2).addClass('disabled');\n      }\n\n      while (!startDecade.isAfter(endDecade, 'y')) {\n        endDecadeYear = startDecade.year() + 12;\n        minDateDecade = options.minDate && options.minDate.isAfter(startDecade, 'y') && options.minDate.year() <= endDecadeYear;\n        maxDateDecade = options.maxDate && options.maxDate.isAfter(startDecade, 'y') && options.maxDate.year() <= endDecadeYear;\n        html += '<span data-action=\"selectDecade\" class=\"decade' + (date.isAfter(startDecade) && date.year() <= endDecadeYear ? ' active' : '') + (!isValid(startDecade, 'y') && !minDateDecade && !maxDateDecade ? ' disabled' : '') + '\" data-selection=\"' + (startDecade.year() + 6) + '\">' + (startDecade.year() + 1) + ' - ' + (startDecade.year() + 12) + '</span>';\n        startDecade.add(12, 'y');\n      }\n\n      html += '<span></span><span></span><span></span>'; //push the dangling block over, at least this way it's even\n\n      decadesView.find('td').html(html);\n      decadesViewHeader.eq(1).text(startedAt.year() + 1 + '-' + startDecade.year());\n    },\n        fillDate = function () {\n      var daysView = widget.find('.datepicker-days'),\n          daysViewHeader = daysView.find('th'),\n          currentDate,\n          html = [],\n          row,\n          clsNames = [],\n          i;\n\n      if (!hasDate()) {\n        return;\n      }\n\n      daysViewHeader.eq(0).find('span').attr('title', options.tooltips.prevMonth);\n      daysViewHeader.eq(1).attr('title', options.tooltips.selectMonth);\n      daysViewHeader.eq(2).find('span').attr('title', options.tooltips.nextMonth);\n      daysView.find('.disabled').removeClass('disabled');\n      daysViewHeader.eq(1).text(viewDate.format(options.dayViewHeaderFormat));\n\n      if (!isValid(viewDate.clone().subtract(1, 'M'), 'M')) {\n        daysViewHeader.eq(0).addClass('disabled');\n      }\n\n      if (!isValid(viewDate.clone().add(1, 'M'), 'M')) {\n        daysViewHeader.eq(2).addClass('disabled');\n      }\n\n      currentDate = viewDate.clone().startOf('M').startOf('w').startOf('d');\n\n      for (i = 0; i < 42; i++) {\n        //always display 42 days (should show 6 weeks)\n        if (currentDate.weekday() === 0) {\n          row = $('<tr>');\n\n          if (options.calendarWeeks) {\n            row.append('<td class=\"cw\">' + currentDate.week() + '</td>');\n          }\n\n          html.push(row);\n        }\n\n        clsNames = ['day'];\n\n        if (currentDate.isBefore(viewDate, 'M')) {\n          clsNames.push('old');\n        }\n\n        if (currentDate.isAfter(viewDate, 'M')) {\n          clsNames.push('new');\n        }\n\n        if (currentDate.isSame(date, 'd') && !unset) {\n          clsNames.push('active');\n        }\n\n        if (!isValid(currentDate, 'd')) {\n          clsNames.push('disabled');\n        }\n\n        if (currentDate.isSame(getMoment(), 'd')) {\n          clsNames.push('today');\n        }\n\n        if (currentDate.day() === 0 || currentDate.day() === 6) {\n          clsNames.push('weekend');\n        }\n\n        notifyEvent({\n          type: 'dp.classify',\n          date: currentDate,\n          classNames: clsNames\n        });\n        row.append('<td data-action=\"selectDay\" data-day=\"' + currentDate.format('L') + '\" class=\"' + clsNames.join(' ') + '\">' + currentDate.date() + '</td>');\n        currentDate.add(1, 'd');\n      }\n\n      daysView.find('tbody').empty().append(html);\n      updateMonths();\n      updateYears();\n      updateDecades();\n    },\n        fillHours = function () {\n      var table = widget.find('.timepicker-hours table'),\n          currentHour = viewDate.clone().startOf('d'),\n          html = [],\n          row = $('<tr>');\n\n      if (viewDate.hour() > 11 && !use24Hours) {\n        currentHour.hour(12);\n      }\n\n      while (currentHour.isSame(viewDate, 'd') && (use24Hours || viewDate.hour() < 12 && currentHour.hour() < 12 || viewDate.hour() > 11)) {\n        if (currentHour.hour() % 4 === 0) {\n          row = $('<tr>');\n          html.push(row);\n        }\n\n        row.append('<td data-action=\"selectHour\" class=\"hour' + (!isValid(currentHour, 'h') ? ' disabled' : '') + '\">' + currentHour.format(use24Hours ? 'HH' : 'hh') + '</td>');\n        currentHour.add(1, 'h');\n      }\n\n      table.empty().append(html);\n    },\n        fillMinutes = function () {\n      var table = widget.find('.timepicker-minutes table'),\n          currentMinute = viewDate.clone().startOf('h'),\n          html = [],\n          row = $('<tr>'),\n          step = options.stepping === 1 ? 5 : options.stepping;\n\n      while (viewDate.isSame(currentMinute, 'h')) {\n        if (currentMinute.minute() % (step * 4) === 0) {\n          row = $('<tr>');\n          html.push(row);\n        }\n\n        row.append('<td data-action=\"selectMinute\" class=\"minute' + (!isValid(currentMinute, 'm') ? ' disabled' : '') + '\">' + currentMinute.format('mm') + '</td>');\n        currentMinute.add(step, 'm');\n      }\n\n      table.empty().append(html);\n    },\n        fillSeconds = function () {\n      var table = widget.find('.timepicker-seconds table'),\n          currentSecond = viewDate.clone().startOf('m'),\n          html = [],\n          row = $('<tr>');\n\n      while (viewDate.isSame(currentSecond, 'm')) {\n        if (currentSecond.second() % 20 === 0) {\n          row = $('<tr>');\n          html.push(row);\n        }\n\n        row.append('<td data-action=\"selectSecond\" class=\"second' + (!isValid(currentSecond, 's') ? ' disabled' : '') + '\">' + currentSecond.format('ss') + '</td>');\n        currentSecond.add(5, 's');\n      }\n\n      table.empty().append(html);\n    },\n        fillTime = function () {\n      var toggle,\n          newDate,\n          timeComponents = widget.find('.timepicker span[data-time-component]');\n\n      if (!use24Hours) {\n        toggle = widget.find('.timepicker [data-action=togglePeriod]');\n        newDate = date.clone().add(date.hours() >= 12 ? -12 : 12, 'h');\n        toggle.text(date.format('A'));\n\n        if (isValid(newDate, 'h')) {\n          toggle.removeClass('disabled');\n        } else {\n          toggle.addClass('disabled');\n        }\n      }\n\n      timeComponents.filter('[data-time-component=hours]').text(date.format(use24Hours ? 'HH' : 'hh'));\n      timeComponents.filter('[data-time-component=minutes]').text(date.format('mm'));\n      timeComponents.filter('[data-time-component=seconds]').text(date.format('ss'));\n      fillHours();\n      fillMinutes();\n      fillSeconds();\n    },\n        update = function () {\n      if (!widget) {\n        return;\n      }\n\n      fillDate();\n      fillTime();\n    },\n        setValue = function (targetMoment) {\n      var oldDate = unset ? null : date; // case of calling setValue(null or false)\n\n      if (!targetMoment) {\n        unset = true;\n        input.val('');\n        element.data('date', '');\n        notifyEvent({\n          type: 'dp.change',\n          date: false,\n          oldDate: oldDate\n        });\n        update();\n        return;\n      }\n\n      targetMoment = targetMoment.clone().locale(options.locale);\n\n      if (hasTimeZone()) {\n        targetMoment.tz(options.timeZone);\n      }\n\n      if (options.stepping !== 1) {\n        targetMoment.minutes(Math.round(targetMoment.minutes() / options.stepping) * options.stepping).seconds(0);\n\n        while (options.minDate && targetMoment.isBefore(options.minDate)) {\n          targetMoment.add(options.stepping, 'minutes');\n        }\n      }\n\n      if (isValid(targetMoment)) {\n        date = targetMoment;\n        viewDate = date.clone();\n        input.val(date.format(actualFormat));\n        element.data('date', date.format(actualFormat));\n        unset = false;\n        update();\n        notifyEvent({\n          type: 'dp.change',\n          date: date.clone(),\n          oldDate: oldDate\n        });\n      } else {\n        if (!options.keepInvalid) {\n          input.val(unset ? '' : date.format(actualFormat));\n        } else {\n          notifyEvent({\n            type: 'dp.change',\n            date: targetMoment,\n            oldDate: oldDate\n          });\n        }\n\n        notifyEvent({\n          type: 'dp.error',\n          date: targetMoment,\n          oldDate: oldDate\n        });\n      }\n    },\n\n    /**\n     * Hides the widget. Possibly will emit dp.hide\n     */\n    hide = function () {\n      var transitioning = false;\n\n      if (!widget) {\n        return picker;\n      } // Ignore event if in the middle of a picker transition\n\n\n      widget.find('.collapse').each(function () {\n        var collapseData = $(this).data('collapse');\n\n        if (collapseData && collapseData.transitioning) {\n          transitioning = true;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (transitioning) {\n        return picker;\n      }\n\n      if (component && component.hasClass('btn')) {\n        component.toggleClass('active');\n      }\n\n      widget.hide();\n      $(window).off('resize', place);\n      widget.off('click', '[data-action]');\n      widget.off('mousedown', false);\n      widget.remove();\n      widget = false;\n      notifyEvent({\n        type: 'dp.hide',\n        date: date.clone()\n      });\n      input.blur();\n      viewDate = date.clone();\n      return picker;\n    },\n        clear = function () {\n      setValue(null);\n    },\n        parseInputDate = function (inputDate) {\n      if (options.parseInputDate === undefined) {\n        if (!moment.isMoment(inputDate) || inputDate instanceof Date) {\n          inputDate = getMoment(inputDate);\n        }\n      } else {\n        inputDate = options.parseInputDate(inputDate);\n      } //inputDate.locale(options.locale);\n\n\n      return inputDate;\n    },\n\n    /********************************************************************************\n     *\n     * Widget UI interaction functions\n     *\n     ********************************************************************************/\n    actions = {\n      next: function () {\n        var navFnc = datePickerModes[currentViewMode].navFnc;\n        viewDate.add(datePickerModes[currentViewMode].navStep, navFnc);\n        fillDate();\n        viewUpdate(navFnc);\n      },\n      previous: function () {\n        var navFnc = datePickerModes[currentViewMode].navFnc;\n        viewDate.subtract(datePickerModes[currentViewMode].navStep, navFnc);\n        fillDate();\n        viewUpdate(navFnc);\n      },\n      pickerSwitch: function () {\n        showMode(1);\n      },\n      selectMonth: function (e) {\n        var month = $(e.target).closest('tbody').find('span').index($(e.target));\n        viewDate.month(month);\n\n        if (currentViewMode === minViewModeNumber) {\n          setValue(date.clone().year(viewDate.year()).month(viewDate.month()));\n\n          if (!options.inline) {\n            hide();\n          }\n        } else {\n          showMode(-1);\n          fillDate();\n        }\n\n        viewUpdate('M');\n      },\n      selectYear: function (e) {\n        var year = parseInt($(e.target).text(), 10) || 0;\n        viewDate.year(year);\n\n        if (currentViewMode === minViewModeNumber) {\n          setValue(date.clone().year(viewDate.year()));\n\n          if (!options.inline) {\n            hide();\n          }\n        } else {\n          showMode(-1);\n          fillDate();\n        }\n\n        viewUpdate('YYYY');\n      },\n      selectDecade: function (e) {\n        var year = parseInt($(e.target).data('selection'), 10) || 0;\n        viewDate.year(year);\n\n        if (currentViewMode === minViewModeNumber) {\n          setValue(date.clone().year(viewDate.year()));\n\n          if (!options.inline) {\n            hide();\n          }\n        } else {\n          showMode(-1);\n          fillDate();\n        }\n\n        viewUpdate('YYYY');\n      },\n      selectDay: function (e) {\n        var day = viewDate.clone();\n\n        if ($(e.target).is('.old')) {\n          day.subtract(1, 'M');\n        }\n\n        if ($(e.target).is('.new')) {\n          day.add(1, 'M');\n        }\n\n        setValue(day.date(parseInt($(e.target).text(), 10)));\n\n        if (!hasTime() && !options.keepOpen && !options.inline) {\n          hide();\n        }\n      },\n      incrementHours: function () {\n        var newDate = date.clone().add(1, 'h');\n\n        if (isValid(newDate, 'h')) {\n          setValue(newDate);\n        }\n      },\n      incrementMinutes: function () {\n        var newDate = date.clone().add(options.stepping, 'm');\n\n        if (isValid(newDate, 'm')) {\n          setValue(newDate);\n        }\n      },\n      incrementSeconds: function () {\n        var newDate = date.clone().add(1, 's');\n\n        if (isValid(newDate, 's')) {\n          setValue(newDate);\n        }\n      },\n      decrementHours: function () {\n        var newDate = date.clone().subtract(1, 'h');\n\n        if (isValid(newDate, 'h')) {\n          setValue(newDate);\n        }\n      },\n      decrementMinutes: function () {\n        var newDate = date.clone().subtract(options.stepping, 'm');\n\n        if (isValid(newDate, 'm')) {\n          setValue(newDate);\n        }\n      },\n      decrementSeconds: function () {\n        var newDate = date.clone().subtract(1, 's');\n\n        if (isValid(newDate, 's')) {\n          setValue(newDate);\n        }\n      },\n      togglePeriod: function () {\n        setValue(date.clone().add(date.hours() >= 12 ? -12 : 12, 'h'));\n      },\n      togglePicker: function (e) {\n        var $this = $(e.target),\n            $parent = $this.closest('ul'),\n            expanded = $parent.find('.show'),\n            closed = $parent.find('.collapse:not(.show)'),\n            collapseData;\n\n        if (expanded && expanded.length) {\n          collapseData = expanded.data('collapse');\n\n          if (collapseData && collapseData.transitioning) {\n            return;\n          }\n\n          if (expanded.collapse) {\n            // if collapse plugin is available through bootstrap.js then use it\n            expanded.collapse('hide');\n            closed.collapse('show');\n          } else {\n            // otherwise just toggle in class on the two views\n            expanded.removeClass('show');\n            closed.addClass('show');\n          }\n\n          if ($this.is('i')) {\n            $this.toggleClass(options.icons.time + ' ' + options.icons.date);\n          } else {\n            $this.find('i').toggleClass(options.icons.time + ' ' + options.icons.date);\n          } // NOTE: uncomment if toggled state will be restored in show()\n          //if (component) {\n          //    component.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);\n          //}\n\n        }\n      },\n      showPicker: function () {\n        widget.find('.timepicker > div:not(.timepicker-picker)').hide();\n        widget.find('.timepicker .timepicker-picker').show();\n      },\n      showHours: function () {\n        widget.find('.timepicker .timepicker-picker').hide();\n        widget.find('.timepicker .timepicker-hours').show();\n      },\n      showMinutes: function () {\n        widget.find('.timepicker .timepicker-picker').hide();\n        widget.find('.timepicker .timepicker-minutes').show();\n      },\n      showSeconds: function () {\n        widget.find('.timepicker .timepicker-picker').hide();\n        widget.find('.timepicker .timepicker-seconds').show();\n      },\n      selectHour: function (e) {\n        var hour = parseInt($(e.target).text(), 10);\n\n        if (!use24Hours) {\n          if (date.hours() >= 12) {\n            if (hour !== 12) {\n              hour += 12;\n            }\n          } else {\n            if (hour === 12) {\n              hour = 0;\n            }\n          }\n        }\n\n        setValue(date.clone().hours(hour));\n        actions.showPicker.call(picker);\n      },\n      selectMinute: function (e) {\n        setValue(date.clone().minutes(parseInt($(e.target).text(), 10)));\n        actions.showPicker.call(picker);\n      },\n      selectSecond: function (e) {\n        setValue(date.clone().seconds(parseInt($(e.target).text(), 10)));\n        actions.showPicker.call(picker);\n      },\n      clear: clear,\n      today: function () {\n        var todaysDate = getMoment();\n\n        if (isValid(todaysDate, 'd')) {\n          setValue(todaysDate);\n        }\n      },\n      close: hide\n    },\n        doAction = function (e) {\n      if ($(e.currentTarget).is('.disabled')) {\n        return false;\n      }\n\n      actions[$(e.currentTarget).data('action')].apply(picker, arguments);\n      return false;\n    },\n\n    /**\n     * Shows the widget. Possibly will emit dp.show and dp.change\n     */\n    show = function () {\n      var currentMoment,\n          useCurrentGranularity = {\n        'year': function (m) {\n          return m.month(0).date(1).hours(0).seconds(0).minutes(0);\n        },\n        'month': function (m) {\n          return m.date(1).hours(0).seconds(0).minutes(0);\n        },\n        'day': function (m) {\n          return m.hours(0).seconds(0).minutes(0);\n        },\n        'hour': function (m) {\n          return m.seconds(0).minutes(0);\n        },\n        'minute': function (m) {\n          return m.seconds(0);\n        }\n      };\n\n      if (input.prop('disabled') || !options.ignoreReadonly && input.prop('readonly') || widget) {\n        return picker;\n      }\n\n      if (input.val() !== undefined && input.val().trim().length !== 0) {\n        setValue(parseInputDate(input.val().trim()));\n      } else if (unset && options.useCurrent && (options.inline || input.is('input') && input.val().trim().length === 0)) {\n        currentMoment = getMoment();\n\n        if (typeof options.useCurrent === 'string') {\n          currentMoment = useCurrentGranularity[options.useCurrent](currentMoment);\n        }\n\n        setValue(currentMoment);\n      }\n\n      widget = getTemplate();\n      fillDow();\n      fillMonths();\n      widget.find('.timepicker-hours').hide();\n      widget.find('.timepicker-minutes').hide();\n      widget.find('.timepicker-seconds').hide();\n      update();\n      showMode();\n      $(window).on('resize', place);\n      widget.on('click', '[data-action]', doAction); // this handles clicks on the widget\n\n      widget.on('mousedown', false);\n\n      if (component && component.hasClass('btn')) {\n        component.toggleClass('active');\n      }\n\n      place();\n      widget.show();\n\n      if (options.focusOnShow && !input.is(':focus')) {\n        input.focus();\n      }\n\n      notifyEvent({\n        type: 'dp.show'\n      });\n      return picker;\n    },\n\n    /**\n     * Shows or hides the widget\n     */\n    toggle = function () {\n      return widget ? hide() : show();\n    },\n        keydown = function (e) {\n      var handler = null,\n          index,\n          index2,\n          pressedKeys = [],\n          pressedModifiers = {},\n          currentKey = e.which,\n          keyBindKeys,\n          allModifiersPressed,\n          pressed = 'p';\n      keyState[currentKey] = pressed;\n\n      for (index in keyState) {\n        if (keyState.hasOwnProperty(index) && keyState[index] === pressed) {\n          pressedKeys.push(index);\n\n          if (parseInt(index, 10) !== currentKey) {\n            pressedModifiers[index] = true;\n          }\n        }\n      }\n\n      for (index in options.keyBinds) {\n        if (options.keyBinds.hasOwnProperty(index) && typeof options.keyBinds[index] === 'function') {\n          keyBindKeys = index.split(' ');\n\n          if (keyBindKeys.length === pressedKeys.length && keyMap[currentKey] === keyBindKeys[keyBindKeys.length - 1]) {\n            allModifiersPressed = true;\n\n            for (index2 = keyBindKeys.length - 2; index2 >= 0; index2--) {\n              if (!(keyMap[keyBindKeys[index2]] in pressedModifiers)) {\n                allModifiersPressed = false;\n                break;\n              }\n            }\n\n            if (allModifiersPressed) {\n              handler = options.keyBinds[index];\n              break;\n            }\n          }\n        }\n      }\n\n      if (handler) {\n        handler.call(picker, widget);\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n        keyup = function (e) {\n      keyState[e.which] = 'r';\n      e.stopPropagation();\n      e.preventDefault();\n    },\n        change = function (e) {\n      var val = $(e.target).val().trim(),\n          parsedDate = val ? parseInputDate(val) : null;\n      setValue(parsedDate);\n      e.stopImmediatePropagation();\n      return false;\n    },\n        attachDatePickerElementEvents = function () {\n      input.on({\n        'change': change,\n        'blur': options.debug ? '' : hide,\n        'keydown': keydown,\n        'keyup': keyup,\n        'focus': options.allowInputToggle ? show : ''\n      });\n\n      if (element.is('input')) {\n        input.on({\n          'focus': show\n        });\n      } else if (component) {\n        component.on('click', toggle);\n        component.on('mousedown', false);\n      }\n    },\n        detachDatePickerElementEvents = function () {\n      input.off({\n        'change': change,\n        'blur': blur,\n        'keydown': keydown,\n        'keyup': keyup,\n        'focus': options.allowInputToggle ? hide : ''\n      });\n\n      if (element.is('input')) {\n        input.off({\n          'focus': show\n        });\n      } else if (component) {\n        component.off('click', toggle);\n        component.off('mousedown', false);\n      }\n    },\n        indexGivenDates = function (givenDatesArray) {\n      // Store given enabledDates and disabledDates as keys.\n      // This way we can check their existence in O(1) time instead of looping through whole array.\n      // (for example: options.enabledDates['2014-02-27'] === true)\n      var givenDatesIndexed = {};\n      $.each(givenDatesArray, function () {\n        var dDate = parseInputDate(this);\n\n        if (dDate.isValid()) {\n          givenDatesIndexed[dDate.format('YYYY-MM-DD')] = true;\n        }\n      });\n      return Object.keys(givenDatesIndexed).length ? givenDatesIndexed : false;\n    },\n        indexGivenHours = function (givenHoursArray) {\n      // Store given enabledHours and disabledHours as keys.\n      // This way we can check their existence in O(1) time instead of looping through whole array.\n      // (for example: options.enabledHours['2014-02-27'] === true)\n      var givenHoursIndexed = {};\n      $.each(givenHoursArray, function () {\n        givenHoursIndexed[this] = true;\n      });\n      return Object.keys(givenHoursIndexed).length ? givenHoursIndexed : false;\n    },\n        initFormatting = function () {\n      var format = options.format || 'L LT';\n      actualFormat = format.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput) {\n        var newinput = date.localeData().longDateFormat(formatInput) || formatInput;\n        return newinput.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput2) {\n          //temp fix for #740\n          return date.localeData().longDateFormat(formatInput2) || formatInput2;\n        });\n      });\n      parseFormats = options.extraFormats ? options.extraFormats.slice() : [];\n\n      if (parseFormats.indexOf(format) < 0 && parseFormats.indexOf(actualFormat) < 0) {\n        parseFormats.push(actualFormat);\n      }\n\n      use24Hours = actualFormat.toLowerCase().indexOf('a') < 1 && actualFormat.replace(/\\[.*?\\]/g, '').indexOf('h') < 1;\n\n      if (isEnabled('y')) {\n        minViewModeNumber = 2;\n      }\n\n      if (isEnabled('M')) {\n        minViewModeNumber = 1;\n      }\n\n      if (isEnabled('d')) {\n        minViewModeNumber = 0;\n      }\n\n      currentViewMode = Math.max(minViewModeNumber, currentViewMode);\n\n      if (!unset) {\n        setValue(date);\n      }\n    };\n    /********************************************************************************\n     *\n     * Public API functions\n     * =====================\n     *\n     * Important: Do not expose direct references to private objects or the options\n     * object to the outer world. Always return a clone when returning values or make\n     * a clone when setting a private variable.\n     *\n     ********************************************************************************/\n\n\n    picker.destroy = function () {\n      ///<summary>Destroys the widget and removes all attached event listeners</summary>\n      hide();\n      detachDatePickerElementEvents();\n      element.removeData('DateTimePicker');\n      element.removeData('date');\n    };\n\n    picker.toggle = toggle;\n    picker.show = show;\n    picker.hide = hide;\n\n    picker.disable = function () {\n      ///<summary>Disables the input element, the component is attached to, by adding a disabled=\"true\" attribute to it.\n      ///If the widget was visible before that call it is hidden. Possibly emits dp.hide</summary>\n      hide();\n\n      if (component && component.hasClass('btn')) {\n        component.addClass('disabled');\n      }\n\n      input.prop('disabled', true);\n      return picker;\n    };\n\n    picker.enable = function () {\n      ///<summary>Enables the input element, the component is attached to, by removing disabled attribute from it.</summary>\n      if (component && component.hasClass('btn')) {\n        component.removeClass('disabled');\n      }\n\n      input.prop('disabled', false);\n      return picker;\n    };\n\n    picker.ignoreReadonly = function (ignoreReadonly) {\n      if (arguments.length === 0) {\n        return options.ignoreReadonly;\n      }\n\n      if (typeof ignoreReadonly !== 'boolean') {\n        throw new TypeError('ignoreReadonly () expects a boolean parameter');\n      }\n\n      options.ignoreReadonly = ignoreReadonly;\n      return picker;\n    };\n\n    picker.options = function (newOptions) {\n      if (arguments.length === 0) {\n        return $.extend(true, {}, options);\n      }\n\n      if (!(newOptions instanceof Object)) {\n        throw new TypeError('options() options parameter should be an object');\n      }\n\n      $.extend(true, options, newOptions);\n      $.each(options, function (key, value) {\n        if (picker[key] !== undefined) {\n          picker[key](value);\n        } else {\n          throw new TypeError('option ' + key + ' is not recognized!');\n        }\n      });\n      return picker;\n    };\n\n    picker.date = function (newDate) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.date\">\n      ///<summary>Returns the component's model current date, a moment object or null if not set.</summary>\n      ///<returns type=\"Moment\">date.clone()</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>\n      ///<param name=\"newDate\" locid=\"$.fn.datetimepicker.date_p:newDate\">Takes string, Date, moment, null parameter.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        if (unset) {\n          return null;\n        }\n\n        return date.clone();\n      }\n\n      if (newDate !== null && typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n        throw new TypeError('date() parameter must be one of [null, string, moment or Date]');\n      }\n\n      setValue(newDate === null ? null : parseInputDate(newDate));\n      return picker;\n    };\n\n    picker.format = function (newFormat) {\n      ///<summary>test su</summary>\n      ///<param name=\"newFormat\">info about para</param>\n      ///<returns type=\"string|boolean\">returns foo</returns>\n      if (arguments.length === 0) {\n        return options.format;\n      }\n\n      if (typeof newFormat !== 'string' && (typeof newFormat !== 'boolean' || newFormat !== false)) {\n        throw new TypeError('format() expects a string or boolean:false parameter ' + newFormat);\n      }\n\n      options.format = newFormat;\n\n      if (actualFormat) {\n        initFormatting(); // reinit formatting\n      }\n\n      return picker;\n    };\n\n    picker.timeZone = function (newZone) {\n      if (arguments.length === 0) {\n        return options.timeZone;\n      }\n\n      if (typeof newZone !== 'string') {\n        throw new TypeError('newZone() expects a string parameter');\n      }\n\n      options.timeZone = newZone;\n      return picker;\n    };\n\n    picker.dayViewHeaderFormat = function (newFormat) {\n      if (arguments.length === 0) {\n        return options.dayViewHeaderFormat;\n      }\n\n      if (typeof newFormat !== 'string') {\n        throw new TypeError('dayViewHeaderFormat() expects a string parameter');\n      }\n\n      options.dayViewHeaderFormat = newFormat;\n      return picker;\n    };\n\n    picker.extraFormats = function (formats) {\n      if (arguments.length === 0) {\n        return options.extraFormats;\n      }\n\n      if (formats !== false && !(formats instanceof Array)) {\n        throw new TypeError('extraFormats() expects an array or false parameter');\n      }\n\n      options.extraFormats = formats;\n\n      if (parseFormats) {\n        initFormatting(); // reinit formatting\n      }\n\n      return picker;\n    };\n\n    picker.disabledDates = function (dates) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.disabledDates\">\n      ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n      ///<returns type=\"array\">options.disabledDates</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n      ///options.enabledDates if such exist.</summary>\n      ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.disabledDates ? $.extend({}, options.disabledDates) : options.disabledDates;\n      }\n\n      if (!dates) {\n        options.disabledDates = false;\n        update();\n        return picker;\n      }\n\n      if (!(dates instanceof Array)) {\n        throw new TypeError('disabledDates() expects an array parameter');\n      }\n\n      options.disabledDates = indexGivenDates(dates);\n      options.enabledDates = false;\n      update();\n      return picker;\n    };\n\n    picker.enabledDates = function (dates) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.enabledDates\">\n      ///<summary>Returns an array with the currently set enabled dates on the component.</summary>\n      ///<returns type=\"array\">options.enabledDates</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledDates if such exist.</summary>\n      ///<param name=\"dates\" locid=\"$.fn.datetimepicker.enabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.enabledDates ? $.extend({}, options.enabledDates) : options.enabledDates;\n      }\n\n      if (!dates) {\n        options.enabledDates = false;\n        update();\n        return picker;\n      }\n\n      if (!(dates instanceof Array)) {\n        throw new TypeError('enabledDates() expects an array parameter');\n      }\n\n      options.enabledDates = indexGivenDates(dates);\n      options.disabledDates = false;\n      update();\n      return picker;\n    };\n\n    picker.daysOfWeekDisabled = function (daysOfWeekDisabled) {\n      if (arguments.length === 0) {\n        return options.daysOfWeekDisabled.splice(0);\n      }\n\n      if (typeof daysOfWeekDisabled === 'boolean' && !daysOfWeekDisabled) {\n        options.daysOfWeekDisabled = false;\n        update();\n        return picker;\n      }\n\n      if (!(daysOfWeekDisabled instanceof Array)) {\n        throw new TypeError('daysOfWeekDisabled() expects an array parameter');\n      }\n\n      options.daysOfWeekDisabled = daysOfWeekDisabled.reduce(function (previousValue, currentValue) {\n        currentValue = parseInt(currentValue, 10);\n\n        if (currentValue > 6 || currentValue < 0 || isNaN(currentValue)) {\n          return previousValue;\n        }\n\n        if (previousValue.indexOf(currentValue) === -1) {\n          previousValue.push(currentValue);\n        }\n\n        return previousValue;\n      }, []).sort();\n\n      if (options.useCurrent && !options.keepInvalid) {\n        var tries = 0;\n\n        while (!isValid(date, 'd')) {\n          date.add(1, 'd');\n\n          if (tries === 31) {\n            throw 'Tried 31 times to find a valid date';\n          }\n\n          tries++;\n        }\n\n        setValue(date);\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.maxDate = function (maxDate) {\n      if (arguments.length === 0) {\n        return options.maxDate ? options.maxDate.clone() : options.maxDate;\n      }\n\n      if (typeof maxDate === 'boolean' && maxDate === false) {\n        options.maxDate = false;\n        update();\n        return picker;\n      }\n\n      if (typeof maxDate === 'string') {\n        if (maxDate === 'now' || maxDate === 'moment') {\n          maxDate = getMoment();\n        }\n      }\n\n      var parsedDate = parseInputDate(maxDate);\n\n      if (!parsedDate.isValid()) {\n        throw new TypeError('maxDate() Could not parse date parameter: ' + maxDate);\n      }\n\n      if (options.minDate && parsedDate.isBefore(options.minDate)) {\n        throw new TypeError('maxDate() date parameter is before options.minDate: ' + parsedDate.format(actualFormat));\n      }\n\n      options.maxDate = parsedDate;\n\n      if (options.useCurrent && !options.keepInvalid && date.isAfter(maxDate)) {\n        setValue(options.maxDate);\n      }\n\n      if (viewDate.isAfter(parsedDate)) {\n        viewDate = parsedDate.clone().subtract(options.stepping, 'm');\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.minDate = function (minDate) {\n      if (arguments.length === 0) {\n        return options.minDate ? options.minDate.clone() : options.minDate;\n      }\n\n      if (typeof minDate === 'boolean' && minDate === false) {\n        options.minDate = false;\n        update();\n        return picker;\n      }\n\n      if (typeof minDate === 'string') {\n        if (minDate === 'now' || minDate === 'moment') {\n          minDate = getMoment();\n        }\n      }\n\n      var parsedDate = parseInputDate(minDate);\n\n      if (!parsedDate.isValid()) {\n        throw new TypeError('minDate() Could not parse date parameter: ' + minDate);\n      }\n\n      if (options.maxDate && parsedDate.isAfter(options.maxDate)) {\n        throw new TypeError('minDate() date parameter is after options.maxDate: ' + parsedDate.format(actualFormat));\n      }\n\n      options.minDate = parsedDate;\n\n      if (options.useCurrent && !options.keepInvalid && date.isBefore(minDate)) {\n        setValue(options.minDate);\n      }\n\n      if (viewDate.isBefore(parsedDate)) {\n        viewDate = parsedDate.clone().add(options.stepping, 'm');\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.defaultDate = function (defaultDate) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.defaultDate\">\n      ///<summary>Returns a moment with the options.defaultDate option configuration or false if not set</summary>\n      ///<returns type=\"Moment\">date.clone()</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Will set the picker's inital date. If a boolean:false value is passed the options.defaultDate parameter is cleared.</summary>\n      ///<param name=\"defaultDate\" locid=\"$.fn.datetimepicker.defaultDate_p:defaultDate\">Takes a string, Date, moment, boolean:false</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.defaultDate ? options.defaultDate.clone() : options.defaultDate;\n      }\n\n      if (!defaultDate) {\n        options.defaultDate = false;\n        return picker;\n      }\n\n      if (typeof defaultDate === 'string') {\n        if (defaultDate === 'now' || defaultDate === 'moment') {\n          defaultDate = getMoment();\n        } else {\n          defaultDate = getMoment(defaultDate);\n        }\n      }\n\n      var parsedDate = parseInputDate(defaultDate);\n\n      if (!parsedDate.isValid()) {\n        throw new TypeError('defaultDate() Could not parse date parameter: ' + defaultDate);\n      }\n\n      if (!isValid(parsedDate)) {\n        throw new TypeError('defaultDate() date passed is invalid according to component setup validations');\n      }\n\n      options.defaultDate = parsedDate;\n\n      if (options.defaultDate && options.inline || input.val().trim() === '') {\n        setValue(options.defaultDate);\n      }\n\n      return picker;\n    };\n\n    picker.locale = function (locale) {\n      if (arguments.length === 0) {\n        return options.locale;\n      }\n\n      if (!moment.localeData(locale)) {\n        throw new TypeError('locale() locale ' + locale + ' is not loaded from moment locales!');\n      }\n\n      options.locale = locale;\n      date.locale(options.locale);\n      viewDate.locale(options.locale);\n\n      if (actualFormat) {\n        initFormatting(); // reinit formatting\n      }\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.stepping = function (stepping) {\n      if (arguments.length === 0) {\n        return options.stepping;\n      }\n\n      stepping = parseInt(stepping, 10);\n\n      if (isNaN(stepping) || stepping < 1) {\n        stepping = 1;\n      }\n\n      options.stepping = stepping;\n      return picker;\n    };\n\n    picker.useCurrent = function (useCurrent) {\n      var useCurrentOptions = ['year', 'month', 'day', 'hour', 'minute'];\n\n      if (arguments.length === 0) {\n        return options.useCurrent;\n      }\n\n      if (typeof useCurrent !== 'boolean' && typeof useCurrent !== 'string') {\n        throw new TypeError('useCurrent() expects a boolean or string parameter');\n      }\n\n      if (typeof useCurrent === 'string' && useCurrentOptions.indexOf(useCurrent.toLowerCase()) === -1) {\n        throw new TypeError('useCurrent() expects a string parameter of ' + useCurrentOptions.join(', '));\n      }\n\n      options.useCurrent = useCurrent;\n      return picker;\n    };\n\n    picker.collapse = function (collapse) {\n      if (arguments.length === 0) {\n        return options.collapse;\n      }\n\n      if (typeof collapse !== 'boolean') {\n        throw new TypeError('collapse() expects a boolean parameter');\n      }\n\n      if (options.collapse === collapse) {\n        return picker;\n      }\n\n      options.collapse = collapse;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.icons = function (icons) {\n      if (arguments.length === 0) {\n        return $.extend({}, options.icons);\n      }\n\n      if (!(icons instanceof Object)) {\n        throw new TypeError('icons() expects parameter to be an Object');\n      }\n\n      $.extend(options.icons, icons);\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.tooltips = function (tooltips) {\n      if (arguments.length === 0) {\n        return $.extend({}, options.tooltips);\n      }\n\n      if (!(tooltips instanceof Object)) {\n        throw new TypeError('tooltips() expects parameter to be an Object');\n      }\n\n      $.extend(options.tooltips, tooltips);\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.useStrict = function (useStrict) {\n      if (arguments.length === 0) {\n        return options.useStrict;\n      }\n\n      if (typeof useStrict !== 'boolean') {\n        throw new TypeError('useStrict() expects a boolean parameter');\n      }\n\n      options.useStrict = useStrict;\n      return picker;\n    };\n\n    picker.sideBySide = function (sideBySide) {\n      if (arguments.length === 0) {\n        return options.sideBySide;\n      }\n\n      if (typeof sideBySide !== 'boolean') {\n        throw new TypeError('sideBySide() expects a boolean parameter');\n      }\n\n      options.sideBySide = sideBySide;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.viewMode = function (viewMode) {\n      if (arguments.length === 0) {\n        return options.viewMode;\n      }\n\n      if (typeof viewMode !== 'string') {\n        throw new TypeError('viewMode() expects a string parameter');\n      }\n\n      if (viewModes.indexOf(viewMode) === -1) {\n        throw new TypeError('viewMode() parameter must be one of (' + viewModes.join(', ') + ') value');\n      }\n\n      options.viewMode = viewMode;\n      currentViewMode = Math.max(viewModes.indexOf(viewMode), minViewModeNumber);\n      showMode();\n      return picker;\n    };\n\n    picker.toolbarPlacement = function (toolbarPlacement) {\n      if (arguments.length === 0) {\n        return options.toolbarPlacement;\n      }\n\n      if (typeof toolbarPlacement !== 'string') {\n        throw new TypeError('toolbarPlacement() expects a string parameter');\n      }\n\n      if (toolbarPlacements.indexOf(toolbarPlacement) === -1) {\n        throw new TypeError('toolbarPlacement() parameter must be one of (' + toolbarPlacements.join(', ') + ') value');\n      }\n\n      options.toolbarPlacement = toolbarPlacement;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.widgetPositioning = function (widgetPositioning) {\n      if (arguments.length === 0) {\n        return $.extend({}, options.widgetPositioning);\n      }\n\n      if ({}.toString.call(widgetPositioning) !== '[object Object]') {\n        throw new TypeError('widgetPositioning() expects an object variable');\n      }\n\n      if (widgetPositioning.horizontal) {\n        if (typeof widgetPositioning.horizontal !== 'string') {\n          throw new TypeError('widgetPositioning() horizontal variable must be a string');\n        }\n\n        widgetPositioning.horizontal = widgetPositioning.horizontal.toLowerCase();\n\n        if (horizontalModes.indexOf(widgetPositioning.horizontal) === -1) {\n          throw new TypeError('widgetPositioning() expects horizontal parameter to be one of (' + horizontalModes.join(', ') + ')');\n        }\n\n        options.widgetPositioning.horizontal = widgetPositioning.horizontal;\n      }\n\n      if (widgetPositioning.vertical) {\n        if (typeof widgetPositioning.vertical !== 'string') {\n          throw new TypeError('widgetPositioning() vertical variable must be a string');\n        }\n\n        widgetPositioning.vertical = widgetPositioning.vertical.toLowerCase();\n\n        if (verticalModes.indexOf(widgetPositioning.vertical) === -1) {\n          throw new TypeError('widgetPositioning() expects vertical parameter to be one of (' + verticalModes.join(', ') + ')');\n        }\n\n        options.widgetPositioning.vertical = widgetPositioning.vertical;\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.calendarWeeks = function (calendarWeeks) {\n      if (arguments.length === 0) {\n        return options.calendarWeeks;\n      }\n\n      if (typeof calendarWeeks !== 'boolean') {\n        throw new TypeError('calendarWeeks() expects parameter to be a boolean value');\n      }\n\n      options.calendarWeeks = calendarWeeks;\n      update();\n      return picker;\n    };\n\n    picker.showTodayButton = function (showTodayButton) {\n      if (arguments.length === 0) {\n        return options.showTodayButton;\n      }\n\n      if (typeof showTodayButton !== 'boolean') {\n        throw new TypeError('showTodayButton() expects a boolean parameter');\n      }\n\n      options.showTodayButton = showTodayButton;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.showClear = function (showClear) {\n      if (arguments.length === 0) {\n        return options.showClear;\n      }\n\n      if (typeof showClear !== 'boolean') {\n        throw new TypeError('showClear() expects a boolean parameter');\n      }\n\n      options.showClear = showClear;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.widgetParent = function (widgetParent) {\n      if (arguments.length === 0) {\n        return options.widgetParent;\n      }\n\n      if (typeof widgetParent === 'string') {\n        widgetParent = $(widgetParent);\n      }\n\n      if (widgetParent !== null && typeof widgetParent !== 'string' && !(widgetParent instanceof $)) {\n        throw new TypeError('widgetParent() expects a string or a jQuery object parameter');\n      }\n\n      options.widgetParent = widgetParent;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.keepOpen = function (keepOpen) {\n      if (arguments.length === 0) {\n        return options.keepOpen;\n      }\n\n      if (typeof keepOpen !== 'boolean') {\n        throw new TypeError('keepOpen() expects a boolean parameter');\n      }\n\n      options.keepOpen = keepOpen;\n      return picker;\n    };\n\n    picker.focusOnShow = function (focusOnShow) {\n      if (arguments.length === 0) {\n        return options.focusOnShow;\n      }\n\n      if (typeof focusOnShow !== 'boolean') {\n        throw new TypeError('focusOnShow() expects a boolean parameter');\n      }\n\n      options.focusOnShow = focusOnShow;\n      return picker;\n    };\n\n    picker.inline = function (inline) {\n      if (arguments.length === 0) {\n        return options.inline;\n      }\n\n      if (typeof inline !== 'boolean') {\n        throw new TypeError('inline() expects a boolean parameter');\n      }\n\n      options.inline = inline;\n      return picker;\n    };\n\n    picker.clear = function () {\n      clear();\n      return picker;\n    };\n\n    picker.keyBinds = function (keyBinds) {\n      if (arguments.length === 0) {\n        return options.keyBinds;\n      }\n\n      options.keyBinds = keyBinds;\n      return picker;\n    };\n\n    picker.getMoment = function (d) {\n      return getMoment(d);\n    };\n\n    picker.debug = function (debug) {\n      if (typeof debug !== 'boolean') {\n        throw new TypeError('debug() expects a boolean parameter');\n      }\n\n      options.debug = debug;\n      return picker;\n    };\n\n    picker.allowInputToggle = function (allowInputToggle) {\n      if (arguments.length === 0) {\n        return options.allowInputToggle;\n      }\n\n      if (typeof allowInputToggle !== 'boolean') {\n        throw new TypeError('allowInputToggle() expects a boolean parameter');\n      }\n\n      options.allowInputToggle = allowInputToggle;\n      return picker;\n    };\n\n    picker.showClose = function (showClose) {\n      if (arguments.length === 0) {\n        return options.showClose;\n      }\n\n      if (typeof showClose !== 'boolean') {\n        throw new TypeError('showClose() expects a boolean parameter');\n      }\n\n      options.showClose = showClose;\n      return picker;\n    };\n\n    picker.keepInvalid = function (keepInvalid) {\n      if (arguments.length === 0) {\n        return options.keepInvalid;\n      }\n\n      if (typeof keepInvalid !== 'boolean') {\n        throw new TypeError('keepInvalid() expects a boolean parameter');\n      }\n\n      options.keepInvalid = keepInvalid;\n      return picker;\n    };\n\n    picker.datepickerInput = function (datepickerInput) {\n      if (arguments.length === 0) {\n        return options.datepickerInput;\n      }\n\n      if (typeof datepickerInput !== 'string') {\n        throw new TypeError('datepickerInput() expects a string parameter');\n      }\n\n      options.datepickerInput = datepickerInput;\n      return picker;\n    };\n\n    picker.parseInputDate = function (parseInputDate) {\n      if (arguments.length === 0) {\n        return options.parseInputDate;\n      }\n\n      if (typeof parseInputDate !== 'function') {\n        throw new TypeError('parseInputDate() sholud be as function');\n      }\n\n      options.parseInputDate = parseInputDate;\n      return picker;\n    };\n\n    picker.disabledTimeIntervals = function (disabledTimeIntervals) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.disabledTimeIntervals\">\n      ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n      ///<returns type=\"array\">options.disabledTimeIntervals</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n      ///options.enabledDates if such exist.</summary>\n      ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledTimeIntervals_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.disabledTimeIntervals ? $.extend({}, options.disabledTimeIntervals) : options.disabledTimeIntervals;\n      }\n\n      if (!disabledTimeIntervals) {\n        options.disabledTimeIntervals = false;\n        update();\n        return picker;\n      }\n\n      if (!(disabledTimeIntervals instanceof Array)) {\n        throw new TypeError('disabledTimeIntervals() expects an array parameter');\n      }\n\n      options.disabledTimeIntervals = disabledTimeIntervals;\n      update();\n      return picker;\n    };\n\n    picker.disabledHours = function (hours) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.disabledHours\">\n      ///<summary>Returns an array with the currently set disabled hours on the component.</summary>\n      ///<returns type=\"array\">options.disabledHours</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n      ///options.enabledHours if such exist.</summary>\n      ///<param name=\"hours\" locid=\"$.fn.datetimepicker.disabledHours_p:hours\">Takes an [ int ] of values and disallows the user to select only from those hours.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.disabledHours ? $.extend({}, options.disabledHours) : options.disabledHours;\n      }\n\n      if (!hours) {\n        options.disabledHours = false;\n        update();\n        return picker;\n      }\n\n      if (!(hours instanceof Array)) {\n        throw new TypeError('disabledHours() expects an array parameter');\n      }\n\n      options.disabledHours = indexGivenHours(hours);\n      options.enabledHours = false;\n\n      if (options.useCurrent && !options.keepInvalid) {\n        var tries = 0;\n\n        while (!isValid(date, 'h')) {\n          date.add(1, 'h');\n\n          if (tries === 24) {\n            throw 'Tried 24 times to find a valid date';\n          }\n\n          tries++;\n        }\n\n        setValue(date);\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.enabledHours = function (hours) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.enabledHours\">\n      ///<summary>Returns an array with the currently set enabled hours on the component.</summary>\n      ///<returns type=\"array\">options.enabledHours</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledHours if such exist.</summary>\n      ///<param name=\"hours\" locid=\"$.fn.datetimepicker.enabledHours_p:hours\">Takes an [ int ] of values and allows the user to select only from those hours.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.enabledHours ? $.extend({}, options.enabledHours) : options.enabledHours;\n      }\n\n      if (!hours) {\n        options.enabledHours = false;\n        update();\n        return picker;\n      }\n\n      if (!(hours instanceof Array)) {\n        throw new TypeError('enabledHours() expects an array parameter');\n      }\n\n      options.enabledHours = indexGivenHours(hours);\n      options.disabledHours = false;\n\n      if (options.useCurrent && !options.keepInvalid) {\n        var tries = 0;\n\n        while (!isValid(date, 'h')) {\n          date.add(1, 'h');\n\n          if (tries === 24) {\n            throw 'Tried 24 times to find a valid date';\n          }\n\n          tries++;\n        }\n\n        setValue(date);\n      }\n\n      update();\n      return picker;\n    };\n    /**\n     * Returns the component's model current viewDate, a moment object or null if not set. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.\n     * @param {Takes string, viewDate, moment, null parameter.} newDate\n     * @returns {viewDate.clone()}\n     */\n\n\n    picker.viewDate = function (newDate) {\n      if (arguments.length === 0) {\n        return viewDate.clone();\n      }\n\n      if (!newDate) {\n        viewDate = date.clone();\n        return picker;\n      }\n\n      if (typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n        throw new TypeError('viewDate() parameter must be one of [string, moment or Date]');\n      }\n\n      viewDate = parseInputDate(newDate);\n      viewUpdate();\n      return picker;\n    }; // initializing element and component attributes\n\n\n    if (element.is('input')) {\n      input = element;\n    } else {\n      input = element.find(options.datepickerInput);\n\n      if (input.length === 0) {\n        input = element.find('input');\n      } else if (!input.is('input')) {\n        throw new Error('CSS class \"' + options.datepickerInput + '\" cannot be applied to non input element');\n      }\n    }\n\n    if (element.hasClass('input-group')) {\n      // in case there is more then one 'input-group-addon' Issue #48\n      if (element.find('.datepickerbutton').length === 0) {\n        component = element.find('.input-group-addon');\n      } else {\n        component = element.find('.datepickerbutton');\n      }\n    }\n\n    if (!options.inline && !input.is('input')) {\n      throw new Error('Could not initialize DateTimePicker without an input element');\n    } // Set defaults for date here now instead of in var declaration\n\n\n    date = getMoment();\n    viewDate = date.clone();\n    $.extend(true, options, dataToOptions());\n    picker.options(options);\n    initFormatting();\n    attachDatePickerElementEvents();\n\n    if (input.prop('disabled')) {\n      picker.disable();\n    }\n\n    if (input.is('input') && input.val().trim().length !== 0) {\n      setValue(parseInputDate(input.val().trim()));\n    } else if (options.defaultDate && input.attr('placeholder') === undefined) {\n      setValue(options.defaultDate);\n    }\n\n    if (options.inline) {\n      show();\n    }\n\n    return picker;\n  };\n  /********************************************************************************\n   *\n   * jQuery plugin constructor and defaults object\n   *\n   ********************************************************************************/\n\n  /**\n  * See (http://jquery.com/).\n  * @name jQuery\n  * @class\n  * See the jQuery Library  (http://jquery.com/) for full details.  This just\n  * documents the function and classes that are added to jQuery by this plug-in.\n  */\n\n  /**\n   * See (http://jquery.com/)\n   * @name fn\n   * @class\n   * See the jQuery Library  (http://jquery.com/) for full details.  This just\n   * documents the function and classes that are added to jQuery by this plug-in.\n   * @memberOf jQuery\n   */\n\n  /**\n   * Show comments\n   * @class datetimepicker\n   * @memberOf jQuery.fn\n   */\n\n\n  $.fn.datetimepicker = function (options) {\n    options = options || {};\n    var args = Array.prototype.slice.call(arguments, 1),\n        isInstance = true,\n        thisMethods = ['destroy', 'hide', 'show', 'toggle'],\n        returnValue;\n\n    if (typeof options === 'object') {\n      return this.each(function () {\n        var $this = $(this),\n            _options;\n\n        if (!$this.data('DateTimePicker')) {\n          // create a private copy of the defaults object\n          _options = $.extend(true, {}, $.fn.datetimepicker.defaults, options);\n          $this.data('DateTimePicker', dateTimePicker($this, _options));\n        }\n      });\n    } else if (typeof options === 'string') {\n      this.each(function () {\n        var $this = $(this),\n            instance = $this.data('DateTimePicker');\n\n        if (!instance) {\n          throw new Error('bootstrap-datetimepicker(\"' + options + '\") method was called on an element that is not using DateTimePicker');\n        }\n\n        returnValue = instance[options].apply(instance, args);\n        isInstance = returnValue === instance;\n      });\n\n      if (isInstance || $.inArray(options, thisMethods) > -1) {\n        return this;\n      }\n\n      return returnValue;\n    }\n\n    throw new TypeError('Invalid arguments for DateTimePicker: ' + options);\n  };\n\n  $.fn.datetimepicker.defaults = {\n    timeZone: '',\n    format: false,\n    dayViewHeaderFormat: 'MMMM YYYY',\n    extraFormats: false,\n    stepping: 1,\n    minDate: false,\n    maxDate: false,\n    useCurrent: true,\n    collapse: true,\n    locale: moment.locale(),\n    defaultDate: false,\n    disabledDates: false,\n    enabledDates: false,\n    icons: {\n      time: 'fa fa-clock-o',\n      date: 'fa fa-calendar',\n      up: 'fa fa-chevron-up',\n      down: 'fa fa-chevron-down',\n      previous: 'fa fa-chevron-left',\n      next: 'fa fa-chevron-right',\n      today: 'fa fa-crosshairs',\n      clear: 'fa fa-trash-o',\n      close: 'fa fa-times'\n    },\n    tooltips: {\n      today: 'Go to today',\n      clear: 'Clear selection',\n      close: 'Close the picker',\n      selectMonth: 'Select Month',\n      prevMonth: 'Previous Month',\n      nextMonth: 'Next Month',\n      selectYear: 'Select Year',\n      prevYear: 'Previous Year',\n      nextYear: 'Next Year',\n      selectDecade: 'Select Decade',\n      prevDecade: 'Previous Decade',\n      nextDecade: 'Next Decade',\n      prevCentury: 'Previous Century',\n      nextCentury: 'Next Century',\n      pickHour: 'Pick Hour',\n      incrementHour: 'Increment Hour',\n      decrementHour: 'Decrement Hour',\n      pickMinute: 'Pick Minute',\n      incrementMinute: 'Increment Minute',\n      decrementMinute: 'Decrement Minute',\n      pickSecond: 'Pick Second',\n      incrementSecond: 'Increment Second',\n      decrementSecond: 'Decrement Second',\n      togglePeriod: 'Toggle Period',\n      selectTime: 'Select Time'\n    },\n    useStrict: false,\n    sideBySide: false,\n    daysOfWeekDisabled: false,\n    calendarWeeks: false,\n    viewMode: 'days',\n    toolbarPlacement: 'default',\n    showTodayButton: false,\n    showClear: false,\n    showClose: false,\n    widgetPositioning: {\n      horizontal: 'auto',\n      vertical: 'auto'\n    },\n    widgetParent: null,\n    ignoreReadonly: false,\n    keepOpen: false,\n    focusOnShow: true,\n    inline: false,\n    keepInvalid: false,\n    datepickerInput: '.datepickerinput',\n    keyBinds: {\n      up: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(7, 'd'));\n        } else {\n          this.date(d.clone().add(this.stepping(), 'm'));\n        }\n      },\n      down: function (widget) {\n        if (!widget) {\n          this.show();\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(7, 'd'));\n        } else {\n          this.date(d.clone().subtract(this.stepping(), 'm'));\n        }\n      },\n      'control up': function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(1, 'y'));\n        } else {\n          this.date(d.clone().add(1, 'h'));\n        }\n      },\n      'control down': function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1, 'y'));\n        } else {\n          this.date(d.clone().subtract(1, 'h'));\n        }\n      },\n      left: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(1, 'd'));\n        }\n      },\n      right: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1, 'd'));\n        }\n      },\n      pageUp: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(1, 'M'));\n        }\n      },\n      pageDown: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1, 'M'));\n        }\n      },\n      enter: function () {\n        this.hide();\n      },\n      escape: function () {\n        this.hide();\n      },\n      //tab: function (widget) { //this break the flow of the form. disabling for now\n      //    var toggle = widget.find('.picker-switch a[data-action=\"togglePicker\"]');\n      //    if(toggle.length > 0) toggle.click();\n      //},\n      'control space': function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        if (widget.find('.timepicker').is(':visible')) {\n          widget.find('.btn[data-action=\"togglePeriod\"]').click();\n        }\n      },\n      t: function () {\n        this.date(this.getMoment());\n      },\n      'delete': function () {\n        this.clear();\n      }\n    },\n    debug: false,\n    allowInputToggle: false,\n    disabledTimeIntervals: false,\n    disabledHours: false,\n    enabledHours: false,\n    viewDate: false\n  };\n  return $.fn.datetimepicker;\n});","map":{"version":3,"sources":["C:/Users/demon/PycharmProjects/datamozg/node_modules/pc-bootstrap4-datetimepicker/src/js/bootstrap-datetimepicker.js"],"names":["factory","define","amd","exports","module","require","jQuery","moment","$","Error","dateTimePicker","element","options","picker","date","viewDate","unset","input","component","widget","use24Hours","minViewModeNumber","actualFormat","parseFormats","currentViewMode","datePickerModes","clsName","navFnc","navStep","viewModes","verticalModes","horizontalModes","toolbarPlacements","keyMap","keyState","hasTimeZone","tz","undefined","timeZone","getMoment","d","returnMoment","isDate","isMoment","useStrict","isEnabled","granularity","length","TypeError","indexOf","toLowerCase","hasTime","hasDate","getDatePickerTemplate","headTemplate","append","addClass","attr","icons","previous","calendarWeeks","next","contTemplate","clone","getTimePickerMainTemplate","topRow","middleRow","bottomRow","href","tabindex","tooltips","incrementHour","up","pickHour","decrementHour","down","html","incrementMinute","pickMinute","decrementMinute","incrementSecond","pickSecond","decrementSecond","togglePeriod","getTimePickerTemplate","hoursView","minutesView","secondsView","ret","push","getToolbar","row","showTodayButton","today","sideBySide","selectTime","time","showClear","clear","showClose","close","getTemplate","template","dateView","timeView","content","toolbar","collapse","inline","removeClass","toolbarPlacement","dataToOptions","eData","dataOptions","is","data","find","dateOptions","Object","extend","each","key","attributeName","charAt","toUpperCase","slice","place","position","offset","vertical","widgetPositioning","horizontal","parent","widgetParent","after","children","first","top","height","window","scrollTop","outerHeight","width","left","outerWidth","css","parents","filter","bottom","right","notifyEvent","e","type","isSame","oldDate","trigger","viewUpdate","change","showMode","dir","Math","max","min","hide","show","fillDow","currentDate","startOf","text","isBefore","endOf","format","add","isInDisabledDates","testDate","disabledDates","isInEnabledDates","enabledDates","isInDisabledHours","disabledHours","isInEnabledHours","enabledHours","isValid","targetMoment","minDate","maxDate","isAfter","daysOfWeekDisabled","day","disabledTimeIntervals","found","isBetween","fillMonths","spans","monthsShort","empty","updateMonths","monthsView","monthsViewHeader","months","eq","prevYear","selectYear","nextYear","subtract","year","month","index","updateYears","yearsView","yearsViewHeader","startYear","endYear","prevDecade","selectDecade","nextDecade","updateDecades","decadesView","decadesViewHeader","startDecade","y","endDecade","startedAt","minDateDecade","maxDateDecade","endDecadeYear","prevCentury","nextCentury","fillDate","daysView","daysViewHeader","clsNames","i","prevMonth","selectMonth","nextMonth","dayViewHeaderFormat","weekday","week","classNames","join","fillHours","table","currentHour","hour","fillMinutes","currentMinute","step","stepping","minute","fillSeconds","currentSecond","second","fillTime","toggle","newDate","timeComponents","hours","update","setValue","val","locale","minutes","round","seconds","keepInvalid","transitioning","collapseData","hasClass","toggleClass","off","remove","blur","parseInputDate","inputDate","Date","actions","pickerSwitch","target","closest","parseInt","selectDay","keepOpen","incrementHours","incrementMinutes","incrementSeconds","decrementHours","decrementMinutes","decrementSeconds","togglePicker","$this","$parent","expanded","closed","showPicker","showHours","showMinutes","showSeconds","selectHour","call","selectMinute","selectSecond","todaysDate","doAction","currentTarget","apply","arguments","currentMoment","useCurrentGranularity","m","prop","ignoreReadonly","trim","useCurrent","on","focusOnShow","focus","keydown","handler","index2","pressedKeys","pressedModifiers","currentKey","which","keyBindKeys","allModifiersPressed","pressed","hasOwnProperty","keyBinds","split","stopPropagation","preventDefault","keyup","parsedDate","stopImmediatePropagation","attachDatePickerElementEvents","debug","allowInputToggle","detachDatePickerElementEvents","indexGivenDates","givenDatesArray","givenDatesIndexed","dDate","keys","indexGivenHours","givenHoursArray","givenHoursIndexed","initFormatting","replace","formatInput","newinput","localeData","longDateFormat","formatInput2","extraFormats","destroy","removeData","disable","enable","newOptions","value","newFormat","newZone","formats","Array","dates","splice","reduce","previousValue","currentValue","isNaN","sort","tries","defaultDate","useCurrentOptions","viewMode","toString","datepickerInput","fn","datetimepicker","args","prototype","isInstance","thisMethods","returnValue","_options","defaults","instance","inArray","pageUp","pageDown","enter","escape","click","t"],"mappings":"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","sourcesContent":["/*! version : 4.17.47\n =========================================================\n bootstrap-datetimejs\n https://github.com/Eonasdan/bootstrap-datetimepicker\n Copyright (c) 2015 Jonathan Peterson\n =========================================================\n */\n/*\n The MIT License (MIT)\n\n Copyright (c) 2015 Jonathan Peterson\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n */\n/*global define:false */\n/*global exports:false */\n/*global require:false */\n/*global jQuery:false */\n/*global moment:false */\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // AMD is used - Register as an anonymous module.\n        define(['jquery', 'moment'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('jquery'), require('moment'));\n    } else {\n        // Neither AMD nor CommonJS used. Use global variables.\n        if (typeof jQuery === 'undefined') {\n            throw 'bootstrap-datetimepicker requires jQuery to be loaded first';\n        }\n        if (typeof moment === 'undefined') {\n            throw 'bootstrap-datetimepicker requires Moment.js to be loaded first';\n        }\n        factory(jQuery, moment);\n    }\n}(function ($, moment) {\n    'use strict';\n    if (!moment) {\n        throw new Error('bootstrap-datetimepicker requires Moment.js to be loaded first');\n    }\n\n    var dateTimePicker = function (element, options) {\n        var picker = {},\n            date,\n            viewDate,\n            unset = true,\n            input,\n            component = false,\n            widget = false,\n            use24Hours,\n            minViewModeNumber = 0,\n            actualFormat,\n            parseFormats,\n            currentViewMode,\n            datePickerModes = [\n                {\n                    clsName: 'days',\n                    navFnc: 'M',\n                    navStep: 1\n                },\n                {\n                    clsName: 'months',\n                    navFnc: 'y',\n                    navStep: 1\n                },\n                {\n                    clsName: 'years',\n                    navFnc: 'y',\n                    navStep: 10\n                },\n                {\n                    clsName: 'decades',\n                    navFnc: 'y',\n                    navStep: 100\n                }\n            ],\n            viewModes = ['days', 'months', 'years', 'decades'],\n            verticalModes = ['top', 'bottom', 'auto'],\n            horizontalModes = ['left', 'right', 'auto'],\n            toolbarPlacements = ['default', 'top', 'bottom'],\n            keyMap = {\n                'up': 38,\n                38: 'up',\n                'down': 40,\n                40: 'down',\n                'left': 37,\n                37: 'left',\n                'right': 39,\n                39: 'right',\n                'tab': 9,\n                9: 'tab',\n                'escape': 27,\n                27: 'escape',\n                'enter': 13,\n                13: 'enter',\n                'pageUp': 33,\n                33: 'pageUp',\n                'pageDown': 34,\n                34: 'pageDown',\n                'shift': 16,\n                16: 'shift',\n                'control': 17,\n                17: 'control',\n                'space': 32,\n                32: 'space',\n                't': 84,\n                84: 't',\n                'delete': 46,\n                46: 'delete'\n            },\n            keyState = {},\n\n            /********************************************************************************\n             *\n             * Private functions\n             *\n             ********************************************************************************/\n\n            hasTimeZone = function () {\n                return moment.tz !== undefined && options.timeZone !== undefined && options.timeZone !== null && options.timeZone !== '';\n            },\n\n            getMoment = function (d) {\n                var returnMoment;\n\n                if (d === undefined || d === null) {\n                    returnMoment = moment(); //TODO should this use format? and locale?\n                } else if (moment.isDate(d) || moment.isMoment(d)) {\n                    // If the date that is passed in is already a Date() or moment() object,\n                    // pass it directly to moment.\n                    returnMoment = moment(d);\n                } else if (hasTimeZone()) { // There is a string to parse and a default time zone\n                    // parse with the tz function which takes a default time zone if it is not in the format string\n                    returnMoment = moment.tz(d, parseFormats, options.useStrict, options.timeZone);\n                } else {\n                    returnMoment = moment(d, parseFormats, options.useStrict);\n                }\n\n                if (hasTimeZone()) {\n                    returnMoment.tz(options.timeZone);\n                }\n\n                return returnMoment;\n            },\n\n            isEnabled = function (granularity) {\n                if (typeof granularity !== 'string' || granularity.length > 1) {\n                    throw new TypeError('isEnabled expects a single character string parameter');\n                }\n                switch (granularity) {\n                    case 'y':\n                        return actualFormat.indexOf('Y') !== -1;\n                    case 'M':\n                        return actualFormat.indexOf('M') !== -1;\n                    case 'd':\n                        return actualFormat.toLowerCase().indexOf('d') !== -1;\n                    case 'h':\n                    case 'H':\n                        return actualFormat.toLowerCase().indexOf('h') !== -1;\n                    case 'm':\n                        return actualFormat.indexOf('m') !== -1;\n                    case 's':\n                        return actualFormat.indexOf('s') !== -1;\n                    default:\n                        return false;\n                }\n            },\n\n            hasTime = function () {\n                return (isEnabled('h') || isEnabled('m') || isEnabled('s'));\n            },\n\n            hasDate = function () {\n                return (isEnabled('y') || isEnabled('M') || isEnabled('d'));\n            },\n\n            getDatePickerTemplate = function () {\n                var headTemplate = $('<thead>')\n                        .append($('<tr>')\n                            .append($('<th>').addClass('prev').attr('data-action', 'previous')\n                                .append($('<i>').addClass(options.icons.previous))\n                                )\n                            .append($('<th>').addClass('picker-switch').attr('data-action', 'pickerSwitch').attr('colspan', (options.calendarWeeks ? '6' : '5')))\n                            .append($('<th>').addClass('next').attr('data-action', 'next')\n                                .append($('<i>').addClass(options.icons.next))\n                                )\n                            ),\n                    contTemplate = $('<tbody>')\n                        .append($('<tr>')\n                            .append($('<td>').attr('colspan', (options.calendarWeeks ? '8' : '7')))\n                            );\n\n                return [\n                    $('<div>').addClass('datepicker-days')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate)\n                            .append($('<tbody>'))\n                            ),\n                    $('<div>').addClass('datepicker-months')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate.clone())\n                            .append(contTemplate.clone())\n                            ),\n                    $('<div>').addClass('datepicker-years')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate.clone())\n                            .append(contTemplate.clone())\n                            ),\n                    $('<div>').addClass('datepicker-decades')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate.clone())\n                            .append(contTemplate.clone())\n                            )\n                ];\n            },\n\n            getTimePickerMainTemplate = function () {\n                var topRow = $('<tr>'),\n                    middleRow = $('<tr>'),\n                    bottomRow = $('<tr>');\n\n                if (isEnabled('h')) {\n                    topRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementHour }).addClass('btn').attr('data-action', 'incrementHours').append($('<i>').addClass(options.icons.up))));\n                    middleRow.append($('<td>')\n                        .append($('<span>').addClass('timepicker-hour').attr({ 'data-time-component': 'hours', 'title': options.tooltips.pickHour }).attr('data-action', 'showHours')));\n                    bottomRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementHour }).addClass('btn').attr('data-action', 'decrementHours').append($('<i>').addClass(options.icons.down))));\n                }\n                if (isEnabled('m')) {\n                    if (isEnabled('h')) {\n                        topRow.append($('<td>').addClass('separator'));\n                        middleRow.append($('<td>').addClass('separator').html(':'));\n                        bottomRow.append($('<td>').addClass('separator'));\n                    }\n                    topRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementMinute }).addClass('btn').attr('data-action', 'incrementMinutes')\n                            .append($('<i>').addClass(options.icons.up))));\n                    middleRow.append($('<td>')\n                        .append($('<span>').addClass('timepicker-minute').attr({ 'data-time-component': 'minutes', 'title': options.tooltips.pickMinute }).attr('data-action', 'showMinutes')));\n                    bottomRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementMinute }).addClass('btn').attr('data-action', 'decrementMinutes')\n                            .append($('<i>').addClass(options.icons.down))));\n                }\n                if (isEnabled('s')) {\n                    if (isEnabled('m')) {\n                        topRow.append($('<td>').addClass('separator'));\n                        middleRow.append($('<td>').addClass('separator').html(':'));\n                        bottomRow.append($('<td>').addClass('separator'));\n                    }\n                    topRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementSecond }).addClass('btn').attr('data-action', 'incrementSeconds')\n                            .append($('<i>').addClass(options.icons.up))));\n                    middleRow.append($('<td>')\n                        .append($('<span>').addClass('timepicker-second').attr({ 'data-time-component': 'seconds', 'title': options.tooltips.pickSecond }).attr('data-action', 'showSeconds')));\n                    bottomRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementSecond }).addClass('btn').attr('data-action', 'decrementSeconds')\n                            .append($('<i>').addClass(options.icons.down))));\n                }\n\n                if (!use24Hours) {\n                    topRow.append($('<td>').addClass('separator'));\n                    middleRow.append($('<td>')\n                        .append($('<button>').addClass('btn btn-primary').attr({ 'data-action': 'togglePeriod', tabindex: '-1', 'title': options.tooltips.togglePeriod })));\n                    bottomRow.append($('<td>').addClass('separator'));\n                }\n\n                return $('<div>').addClass('timepicker-picker')\n                    .append($('<table>').addClass('table-condensed')\n                        .append([topRow, middleRow, bottomRow]));\n            },\n\n            getTimePickerTemplate = function () {\n                var hoursView = $('<div>').addClass('timepicker-hours')\n                        .append($('<table>').addClass('table-condensed')),\n                    minutesView = $('<div>').addClass('timepicker-minutes')\n                        .append($('<table>').addClass('table-condensed')),\n                    secondsView = $('<div>').addClass('timepicker-seconds')\n                        .append($('<table>').addClass('table-condensed')),\n                    ret = [getTimePickerMainTemplate()];\n\n                if (isEnabled('h')) {\n                    ret.push(hoursView);\n                }\n                if (isEnabled('m')) {\n                    ret.push(minutesView);\n                }\n                if (isEnabled('s')) {\n                    ret.push(secondsView);\n                }\n\n                return ret;\n            },\n\n            getToolbar = function () {\n                var row = [];\n                if (options.showTodayButton) {\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'today', 'title': options.tooltips.today }).append($('<i>').addClass(options.icons.today))));\n                }\n                if (!options.sideBySide && hasDate() && hasTime()) {\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'togglePicker', 'title': options.tooltips.selectTime }).append($('<i>').addClass(options.icons.time))));\n                }\n                if (options.showClear) {\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'clear', 'title': options.tooltips.clear }).append($('<i>').addClass(options.icons.clear))));\n                }\n                if (options.showClose) {\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'close', 'title': options.tooltips.close }).append($('<i>').addClass(options.icons.close))));\n                }\n                return $('<table>').addClass('table-condensed').append($('<tbody>').append($('<tr>').append(row)));\n            },\n\n            getTemplate = function () {\n                var template = $('<div>').addClass('bootstrap-datetimepicker-widget dropdown-menu'),\n                    dateView = $('<div>').addClass('datepicker').append(getDatePickerTemplate()),\n                    timeView = $('<div>').addClass('timepicker').append(getTimePickerTemplate()),\n                    content = $('<ul>').addClass('list-unstyled'),\n                    toolbar = $('<li>').addClass('picker-switch' + (options.collapse ? ' accordion-toggle' : '')).append(getToolbar());\n\n                if (options.inline) {\n                    template.removeClass('dropdown-menu');\n                }\n\n                if (use24Hours) {\n                    template.addClass('usetwentyfour');\n                }\n\n                if (isEnabled('s') && !use24Hours) {\n                    template.addClass('wider');\n                }\n\n                if (options.sideBySide && hasDate() && hasTime()) {\n                    template.addClass('timepicker-sbs');\n                    if (options.toolbarPlacement === 'top') {\n                        template.append(toolbar);\n                    }\n                    template.append(\n                        $('<div>').addClass('row')\n                            .append(dateView.addClass('col-md-6'))\n                            .append(timeView.addClass('col-md-6'))\n                    );\n                    if (options.toolbarPlacement === 'bottom') {\n                        template.append(toolbar);\n                    }\n                    return template;\n                }\n\n                if (options.toolbarPlacement === 'top') {\n                    content.append(toolbar);\n                }\n                if (hasDate()) {\n                    content.append($('<li>').addClass((options.collapse && hasTime() ? 'collapse show' : '')).append(dateView));\n                }\n                if (options.toolbarPlacement === 'default') {\n                    content.append(toolbar);\n                }\n                if (hasTime()) {\n                    content.append($('<li>').addClass((options.collapse && hasDate() ? 'collapse' : '')).append(timeView));\n                }\n                if (options.toolbarPlacement === 'bottom') {\n                    content.append(toolbar);\n                }\n                return template.append(content);\n            },\n\n            dataToOptions = function () {\n                var eData,\n                    dataOptions = {};\n\n                if (element.is('input') || options.inline) {\n                    eData = element.data();\n                } else {\n                    eData = element.find('input').data();\n                }\n\n                if (eData.dateOptions && eData.dateOptions instanceof Object) {\n                    dataOptions = $.extend(true, dataOptions, eData.dateOptions);\n                }\n\n                $.each(options, function (key) {\n                    var attributeName = 'date' + key.charAt(0).toUpperCase() + key.slice(1);\n                    if (eData[attributeName] !== undefined) {\n                        dataOptions[key] = eData[attributeName];\n                    }\n                });\n                return dataOptions;\n            },\n\n            place = function () {\n                var position = (component || element).position(),\n                    offset = (component || element).offset(),\n                    vertical = options.widgetPositioning.vertical,\n                    horizontal = options.widgetPositioning.horizontal,\n                    parent;\n\n                if (options.widgetParent) {\n                    parent = options.widgetParent.append(widget);\n                } else if (element.is('input')) {\n                    parent = element.after(widget).parent();\n                } else if (options.inline) {\n                    parent = element.append(widget);\n                    return;\n                } else {\n                    parent = element;\n                    element.children().first().after(widget);\n                }\n\n                // Top and bottom logic\n                if (vertical === 'auto') {\n                    if (offset.top + widget.height() * 1.5 >= $(window).height() + $(window).scrollTop() &&\n                        widget.height() + element.outerHeight() < offset.top) {\n                        vertical = 'top';\n                    } else {\n                        vertical = 'bottom';\n                    }\n                }\n\n                // Left and right logic\n                if (horizontal === 'auto') {\n                    if (parent.width() < offset.left + widget.outerWidth() / 2 &&\n                        offset.left + widget.outerWidth() > $(window).width()) {\n                        horizontal = 'right';\n                    } else {\n                        horizontal = 'left';\n                    }\n                }\n\n                if (vertical === 'top') {\n                    widget.addClass('top').removeClass('bottom');\n                } else {\n                    widget.addClass('bottom').removeClass('top');\n                }\n\n                if (horizontal === 'right') {\n                    widget.addClass('pull-right');\n                } else {\n                    widget.removeClass('pull-right');\n                }\n\n                // find the first parent element that has a non-static css positioning\n                if (parent.css('position') === 'static') {\n                    parent = parent.parents().filter(function () {\n                        return $(this).css('position') !== 'static';\n                    }).first();\n                }\n\n                if (parent.length === 0) {\n                    throw new Error('datetimepicker component should be placed within a non-static positioned container');\n                }\n\n                widget.css({\n                    top: vertical === 'top' ? 'auto' : position.top + element.outerHeight(),\n                    bottom: vertical === 'top' ? parent.outerHeight() - (parent === element ? 0 : position.top) : 'auto',\n                    left: horizontal === 'left' ? (parent === element ? 0 : position.left) : 'auto',\n                    right: horizontal === 'left' ? 'auto' : parent.outerWidth() - element.outerWidth() - (parent === element ? 0 : position.left)\n                });\n            },\n\n            notifyEvent = function (e) {\n                if (e.type === 'dp.change' && ((e.date && e.date.isSame(e.oldDate)) || (!e.date && !e.oldDate))) {\n                    return;\n                }\n                element.trigger(e);\n            },\n\n            viewUpdate = function (e) {\n                if (e === 'y') {\n                    e = 'YYYY';\n                }\n                notifyEvent({\n                    type: 'dp.update',\n                    change: e,\n                    viewDate: viewDate.clone()\n                });\n            },\n\n            showMode = function (dir) {\n                if (!widget) {\n                    return;\n                }\n                if (dir) {\n                    currentViewMode = Math.max(minViewModeNumber, Math.min(3, currentViewMode + dir));\n                }\n                widget.find('.datepicker > div').hide().filter('.datepicker-' + datePickerModes[currentViewMode].clsName).show();\n            },\n\n            fillDow = function () {\n                var row = $('<tr>'),\n                    currentDate = viewDate.clone().startOf('w').startOf('d');\n\n                if (options.calendarWeeks === true) {\n                    row.append($('<th>').addClass('cw').text('#'));\n                }\n\n                while (currentDate.isBefore(viewDate.clone().endOf('w'))) {\n                    row.append($('<th>').addClass('dow').text(currentDate.format('dd')));\n                    currentDate.add(1, 'd');\n                }\n                widget.find('.datepicker-days thead').append(row);\n            },\n\n            isInDisabledDates = function (testDate) {\n                return options.disabledDates[testDate.format('YYYY-MM-DD')] === true;\n            },\n\n            isInEnabledDates = function (testDate) {\n                return options.enabledDates[testDate.format('YYYY-MM-DD')] === true;\n            },\n\n            isInDisabledHours = function (testDate) {\n                return options.disabledHours[testDate.format('H')] === true;\n            },\n\n            isInEnabledHours = function (testDate) {\n                return options.enabledHours[testDate.format('H')] === true;\n            },\n\n            isValid = function (targetMoment, granularity) {\n                if (!targetMoment.isValid()) {\n                    return false;\n                }\n                if (options.disabledDates && granularity === 'd' && isInDisabledDates(targetMoment)) {\n                    return false;\n                }\n                if (options.enabledDates && granularity === 'd' && !isInEnabledDates(targetMoment)) {\n                    return false;\n                }\n                if (options.minDate && targetMoment.isBefore(options.minDate, granularity)) {\n                    return false;\n                }\n                if (options.maxDate && targetMoment.isAfter(options.maxDate, granularity)) {\n                    return false;\n                }\n                if (options.daysOfWeekDisabled && granularity === 'd' && options.daysOfWeekDisabled.indexOf(targetMoment.day()) !== -1) {\n                    return false;\n                }\n                if (options.disabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && isInDisabledHours(targetMoment)) {\n                    return false;\n                }\n                if (options.enabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && !isInEnabledHours(targetMoment)) {\n                    return false;\n                }\n                if (options.disabledTimeIntervals && (granularity === 'h' || granularity === 'm' || granularity === 's')) {\n                    var found = false;\n                    $.each(options.disabledTimeIntervals, function () {\n                        if (targetMoment.isBetween(this[0], this[1])) {\n                            found = true;\n                            return false;\n                        }\n                    });\n                    if (found) {\n                        return false;\n                    }\n                }\n                return true;\n            },\n\n            fillMonths = function () {\n                var spans = [],\n                    monthsShort = viewDate.clone().startOf('y').startOf('d');\n                while (monthsShort.isSame(viewDate, 'y')) {\n                    spans.push($('<span>').attr('data-action', 'selectMonth').addClass('month').text(monthsShort.format('MMM')));\n                    monthsShort.add(1, 'M');\n                }\n                widget.find('.datepicker-months td').empty().append(spans);\n            },\n\n            updateMonths = function () {\n                var monthsView = widget.find('.datepicker-months'),\n                    monthsViewHeader = monthsView.find('th'),\n                    months = monthsView.find('tbody').find('span');\n\n                monthsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevYear);\n                monthsViewHeader.eq(1).attr('title', options.tooltips.selectYear);\n                monthsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextYear);\n\n                monthsView.find('.disabled').removeClass('disabled');\n\n                if (!isValid(viewDate.clone().subtract(1, 'y'), 'y')) {\n                    monthsViewHeader.eq(0).addClass('disabled');\n                }\n\n                monthsViewHeader.eq(1).text(viewDate.year());\n\n                if (!isValid(viewDate.clone().add(1, 'y'), 'y')) {\n                    monthsViewHeader.eq(2).addClass('disabled');\n                }\n\n                months.removeClass('active');\n                if (date.isSame(viewDate, 'y') && !unset) {\n                    months.eq(date.month()).addClass('active');\n                }\n\n                months.each(function (index) {\n                    if (!isValid(viewDate.clone().month(index), 'M')) {\n                        $(this).addClass('disabled');\n                    }\n                });\n            },\n\n            updateYears = function () {\n                var yearsView = widget.find('.datepicker-years'),\n                    yearsViewHeader = yearsView.find('th'),\n                    startYear = viewDate.clone().subtract(5, 'y'),\n                    endYear = viewDate.clone().add(6, 'y'),\n                    html = '';\n\n                yearsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevDecade);\n                yearsViewHeader.eq(1).attr('title', options.tooltips.selectDecade);\n                yearsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextDecade);\n\n                yearsView.find('.disabled').removeClass('disabled');\n\n                if (options.minDate && options.minDate.isAfter(startYear, 'y')) {\n                    yearsViewHeader.eq(0).addClass('disabled');\n                }\n\n                yearsViewHeader.eq(1).text(startYear.year() + '-' + endYear.year());\n\n                if (options.maxDate && options.maxDate.isBefore(endYear, 'y')) {\n                    yearsViewHeader.eq(2).addClass('disabled');\n                }\n\n                while (!startYear.isAfter(endYear, 'y')) {\n                    html += '<span data-action=\"selectYear\" class=\"year' + (startYear.isSame(date, 'y') && !unset ? ' active' : '') + (!isValid(startYear, 'y') ? ' disabled' : '') + '\">' + startYear.year() + '</span>';\n                    startYear.add(1, 'y');\n                }\n\n                yearsView.find('td').html(html);\n            },\n\n            updateDecades = function () {\n                var decadesView = widget.find('.datepicker-decades'),\n                    decadesViewHeader = decadesView.find('th'),\n                    startDecade = moment({ y: viewDate.year() - (viewDate.year() % 100) - 1 }),\n                    endDecade = startDecade.clone().add(100, 'y'),\n                    startedAt = startDecade.clone(),\n                    minDateDecade = false,\n                    maxDateDecade = false,\n                    endDecadeYear,\n                    html = '';\n\n                decadesViewHeader.eq(0).find('span').attr('title', options.tooltips.prevCentury);\n                decadesViewHeader.eq(2).find('span').attr('title', options.tooltips.nextCentury);\n\n                decadesView.find('.disabled').removeClass('disabled');\n\n                if (startDecade.isSame(moment({ y: 1900 })) || (options.minDate && options.minDate.isAfter(startDecade, 'y'))) {\n                    decadesViewHeader.eq(0).addClass('disabled');\n                }\n\n                decadesViewHeader.eq(1).text(startDecade.year() + '-' + endDecade.year());\n\n                if (startDecade.isSame(moment({ y: 2000 })) || (options.maxDate && options.maxDate.isBefore(endDecade, 'y'))) {\n                    decadesViewHeader.eq(2).addClass('disabled');\n                }\n\n                while (!startDecade.isAfter(endDecade, 'y')) {\n                    endDecadeYear = startDecade.year() + 12;\n                    minDateDecade = options.minDate && options.minDate.isAfter(startDecade, 'y') && options.minDate.year() <= endDecadeYear;\n                    maxDateDecade = options.maxDate && options.maxDate.isAfter(startDecade, 'y') && options.maxDate.year() <= endDecadeYear;\n                    html += '<span data-action=\"selectDecade\" class=\"decade' + (date.isAfter(startDecade) && date.year() <= endDecadeYear ? ' active' : '') +\n                        (!isValid(startDecade, 'y') && !minDateDecade && !maxDateDecade ? ' disabled' : '') + '\" data-selection=\"' + (startDecade.year() + 6) + '\">' + (startDecade.year() + 1) + ' - ' + (startDecade.year() + 12) + '</span>';\n                    startDecade.add(12, 'y');\n                }\n                html += '<span></span><span></span><span></span>'; //push the dangling block over, at least this way it's even\n\n                decadesView.find('td').html(html);\n                decadesViewHeader.eq(1).text((startedAt.year() + 1) + '-' + (startDecade.year()));\n            },\n\n            fillDate = function () {\n                var daysView = widget.find('.datepicker-days'),\n                    daysViewHeader = daysView.find('th'),\n                    currentDate,\n                    html = [],\n                    row,\n                    clsNames = [],\n                    i;\n\n                if (!hasDate()) {\n                    return;\n                }\n\n                daysViewHeader.eq(0).find('span').attr('title', options.tooltips.prevMonth);\n                daysViewHeader.eq(1).attr('title', options.tooltips.selectMonth);\n                daysViewHeader.eq(2).find('span').attr('title', options.tooltips.nextMonth);\n\n                daysView.find('.disabled').removeClass('disabled');\n                daysViewHeader.eq(1).text(viewDate.format(options.dayViewHeaderFormat));\n\n                if (!isValid(viewDate.clone().subtract(1, 'M'), 'M')) {\n                    daysViewHeader.eq(0).addClass('disabled');\n                }\n                if (!isValid(viewDate.clone().add(1, 'M'), 'M')) {\n                    daysViewHeader.eq(2).addClass('disabled');\n                }\n\n                currentDate = viewDate.clone().startOf('M').startOf('w').startOf('d');\n\n                for (i = 0; i < 42; i++) { //always display 42 days (should show 6 weeks)\n                    if (currentDate.weekday() === 0) {\n                        row = $('<tr>');\n                        if (options.calendarWeeks) {\n                            row.append('<td class=\"cw\">' + currentDate.week() + '</td>');\n                        }\n                        html.push(row);\n                    }\n                    clsNames = ['day'];\n                    if (currentDate.isBefore(viewDate, 'M')) {\n                        clsNames.push('old');\n                    }\n                    if (currentDate.isAfter(viewDate, 'M')) {\n                        clsNames.push('new');\n                    }\n                    if (currentDate.isSame(date, 'd') && !unset) {\n                        clsNames.push('active');\n                    }\n                    if (!isValid(currentDate, 'd')) {\n                        clsNames.push('disabled');\n                    }\n                    if (currentDate.isSame(getMoment(), 'd')) {\n                        clsNames.push('today');\n                    }\n                    if (currentDate.day() === 0 || currentDate.day() === 6) {\n                        clsNames.push('weekend');\n                    }\n                    notifyEvent({\n                        type: 'dp.classify',\n                        date: currentDate,\n                        classNames: clsNames\n                    });\n                    row.append('<td data-action=\"selectDay\" data-day=\"' + currentDate.format('L') + '\" class=\"' + clsNames.join(' ') + '\">' + currentDate.date() + '</td>');\n                    currentDate.add(1, 'd');\n                }\n\n                daysView.find('tbody').empty().append(html);\n\n                updateMonths();\n\n                updateYears();\n\n                updateDecades();\n            },\n\n            fillHours = function () {\n                var table = widget.find('.timepicker-hours table'),\n                    currentHour = viewDate.clone().startOf('d'),\n                    html = [],\n                    row = $('<tr>');\n\n                if (viewDate.hour() > 11 && !use24Hours) {\n                    currentHour.hour(12);\n                }\n                while (currentHour.isSame(viewDate, 'd') && (use24Hours || (viewDate.hour() < 12 && currentHour.hour() < 12) || viewDate.hour() > 11)) {\n                    if (currentHour.hour() % 4 === 0) {\n                        row = $('<tr>');\n                        html.push(row);\n                    }\n                    row.append('<td data-action=\"selectHour\" class=\"hour' + (!isValid(currentHour, 'h') ? ' disabled' : '') + '\">' + currentHour.format(use24Hours ? 'HH' : 'hh') + '</td>');\n                    currentHour.add(1, 'h');\n                }\n                table.empty().append(html);\n            },\n\n            fillMinutes = function () {\n                var table = widget.find('.timepicker-minutes table'),\n                    currentMinute = viewDate.clone().startOf('h'),\n                    html = [],\n                    row = $('<tr>'),\n                    step = options.stepping === 1 ? 5 : options.stepping;\n\n                while (viewDate.isSame(currentMinute, 'h')) {\n                    if (currentMinute.minute() % (step * 4) === 0) {\n                        row = $('<tr>');\n                        html.push(row);\n                    }\n                    row.append('<td data-action=\"selectMinute\" class=\"minute' + (!isValid(currentMinute, 'm') ? ' disabled' : '') + '\">' + currentMinute.format('mm') + '</td>');\n                    currentMinute.add(step, 'm');\n                }\n                table.empty().append(html);\n            },\n\n            fillSeconds = function () {\n                var table = widget.find('.timepicker-seconds table'),\n                    currentSecond = viewDate.clone().startOf('m'),\n                    html = [],\n                    row = $('<tr>');\n\n                while (viewDate.isSame(currentSecond, 'm')) {\n                    if (currentSecond.second() % 20 === 0) {\n                        row = $('<tr>');\n                        html.push(row);\n                    }\n                    row.append('<td data-action=\"selectSecond\" class=\"second' + (!isValid(currentSecond, 's') ? ' disabled' : '') + '\">' + currentSecond.format('ss') + '</td>');\n                    currentSecond.add(5, 's');\n                }\n\n                table.empty().append(html);\n            },\n\n            fillTime = function () {\n                var toggle, newDate, timeComponents = widget.find('.timepicker span[data-time-component]');\n\n                if (!use24Hours) {\n                    toggle = widget.find('.timepicker [data-action=togglePeriod]');\n                    newDate = date.clone().add((date.hours() >= 12) ? -12 : 12, 'h');\n\n                    toggle.text(date.format('A'));\n\n                    if (isValid(newDate, 'h')) {\n                        toggle.removeClass('disabled');\n                    } else {\n                        toggle.addClass('disabled');\n                    }\n                }\n                timeComponents.filter('[data-time-component=hours]').text(date.format(use24Hours ? 'HH' : 'hh'));\n                timeComponents.filter('[data-time-component=minutes]').text(date.format('mm'));\n                timeComponents.filter('[data-time-component=seconds]').text(date.format('ss'));\n\n                fillHours();\n                fillMinutes();\n                fillSeconds();\n            },\n\n            update = function () {\n                if (!widget) {\n                    return;\n                }\n                fillDate();\n                fillTime();\n            },\n\n            setValue = function (targetMoment) {\n                var oldDate = unset ? null : date;\n\n                // case of calling setValue(null or false)\n                if (!targetMoment) {\n                    unset = true;\n                    input.val('');\n                    element.data('date', '');\n                    notifyEvent({\n                        type: 'dp.change',\n                        date: false,\n                        oldDate: oldDate\n                    });\n                    update();\n                    return;\n                }\n\n                targetMoment = targetMoment.clone().locale(options.locale);\n\n                if (hasTimeZone()) {\n                    targetMoment.tz(options.timeZone);\n                }\n\n                if (options.stepping !== 1) {\n                    targetMoment.minutes((Math.round(targetMoment.minutes() / options.stepping) * options.stepping)).seconds(0);\n\n                    while (options.minDate && targetMoment.isBefore(options.minDate)) {\n                        targetMoment.add(options.stepping, 'minutes');\n                    }\n                }\n\n                if (isValid(targetMoment)) {\n                    date = targetMoment;\n                    viewDate = date.clone();\n                    input.val(date.format(actualFormat));\n                    element.data('date', date.format(actualFormat));\n                    unset = false;\n                    update();\n                    notifyEvent({\n                        type: 'dp.change',\n                        date: date.clone(),\n                        oldDate: oldDate\n                    });\n                } else {\n                    if (!options.keepInvalid) {\n                        input.val(unset ? '' : date.format(actualFormat));\n                    } else {\n                        notifyEvent({\n                            type: 'dp.change',\n                            date: targetMoment,\n                            oldDate: oldDate\n                        });\n                    }\n                    notifyEvent({\n                        type: 'dp.error',\n                        date: targetMoment,\n                        oldDate: oldDate\n                    });\n                }\n            },\n\n            /**\n             * Hides the widget. Possibly will emit dp.hide\n             */\n            hide = function () {\n                var transitioning = false;\n                if (!widget) {\n                    return picker;\n                }\n                // Ignore event if in the middle of a picker transition\n                widget.find('.collapse').each(function () {\n                    var collapseData = $(this).data('collapse');\n                    if (collapseData && collapseData.transitioning) {\n                        transitioning = true;\n                        return false;\n                    }\n                    return true;\n                });\n                if (transitioning) {\n                    return picker;\n                }\n                if (component && component.hasClass('btn')) {\n                    component.toggleClass('active');\n                }\n                widget.hide();\n\n                $(window).off('resize', place);\n                widget.off('click', '[data-action]');\n                widget.off('mousedown', false);\n\n                widget.remove();\n                widget = false;\n\n                notifyEvent({\n                    type: 'dp.hide',\n                    date: date.clone()\n                });\n\n                input.blur();\n\n                viewDate = date.clone();\n\n                return picker;\n            },\n\n            clear = function () {\n                setValue(null);\n            },\n\n            parseInputDate = function (inputDate) {\n                if (options.parseInputDate === undefined) {\n                    if (!moment.isMoment(inputDate) || inputDate instanceof Date) {\n                        inputDate = getMoment(inputDate);\n                    }\n                } else {\n                    inputDate = options.parseInputDate(inputDate);\n                }\n                //inputDate.locale(options.locale);\n                return inputDate;\n            },\n\n            /********************************************************************************\n             *\n             * Widget UI interaction functions\n             *\n             ********************************************************************************/\n            actions = {\n                next: function () {\n                    var navFnc = datePickerModes[currentViewMode].navFnc;\n                    viewDate.add(datePickerModes[currentViewMode].navStep, navFnc);\n                    fillDate();\n                    viewUpdate(navFnc);\n                },\n\n                previous: function () {\n                    var navFnc = datePickerModes[currentViewMode].navFnc;\n                    viewDate.subtract(datePickerModes[currentViewMode].navStep, navFnc);\n                    fillDate();\n                    viewUpdate(navFnc);\n                },\n\n                pickerSwitch: function () {\n                    showMode(1);\n                },\n\n                selectMonth: function (e) {\n                    var month = $(e.target).closest('tbody').find('span').index($(e.target));\n                    viewDate.month(month);\n                    if (currentViewMode === minViewModeNumber) {\n                        setValue(date.clone().year(viewDate.year()).month(viewDate.month()));\n                        if (!options.inline) {\n                            hide();\n                        }\n                    } else {\n                        showMode(-1);\n                        fillDate();\n                    }\n                    viewUpdate('M');\n                },\n\n                selectYear: function (e) {\n                    var year = parseInt($(e.target).text(), 10) || 0;\n                    viewDate.year(year);\n                    if (currentViewMode === minViewModeNumber) {\n                        setValue(date.clone().year(viewDate.year()));\n                        if (!options.inline) {\n                            hide();\n                        }\n                    } else {\n                        showMode(-1);\n                        fillDate();\n                    }\n                    viewUpdate('YYYY');\n                },\n\n                selectDecade: function (e) {\n                    var year = parseInt($(e.target).data('selection'), 10) || 0;\n                    viewDate.year(year);\n                    if (currentViewMode === minViewModeNumber) {\n                        setValue(date.clone().year(viewDate.year()));\n                        if (!options.inline) {\n                            hide();\n                        }\n                    } else {\n                        showMode(-1);\n                        fillDate();\n                    }\n                    viewUpdate('YYYY');\n                },\n\n                selectDay: function (e) {\n                    var day = viewDate.clone();\n                    if ($(e.target).is('.old')) {\n                        day.subtract(1, 'M');\n                    }\n                    if ($(e.target).is('.new')) {\n                        day.add(1, 'M');\n                    }\n                    setValue(day.date(parseInt($(e.target).text(), 10)));\n                    if (!hasTime() && !options.keepOpen && !options.inline) {\n                        hide();\n                    }\n                },\n\n                incrementHours: function () {\n                    var newDate = date.clone().add(1, 'h');\n                    if (isValid(newDate, 'h')) {\n                        setValue(newDate);\n                    }\n                },\n\n                incrementMinutes: function () {\n                    var newDate = date.clone().add(options.stepping, 'm');\n                    if (isValid(newDate, 'm')) {\n                        setValue(newDate);\n                    }\n                },\n\n                incrementSeconds: function () {\n                    var newDate = date.clone().add(1, 's');\n                    if (isValid(newDate, 's')) {\n                        setValue(newDate);\n                    }\n                },\n\n                decrementHours: function () {\n                    var newDate = date.clone().subtract(1, 'h');\n                    if (isValid(newDate, 'h')) {\n                        setValue(newDate);\n                    }\n                },\n\n                decrementMinutes: function () {\n                    var newDate = date.clone().subtract(options.stepping, 'm');\n                    if (isValid(newDate, 'm')) {\n                        setValue(newDate);\n                    }\n                },\n\n                decrementSeconds: function () {\n                    var newDate = date.clone().subtract(1, 's');\n                    if (isValid(newDate, 's')) {\n                        setValue(newDate);\n                    }\n                },\n\n                togglePeriod: function () {\n                    setValue(date.clone().add((date.hours() >= 12) ? -12 : 12, 'h'));\n                },\n\n                togglePicker: function (e) {\n                    var $this = $(e.target),\n                        $parent = $this.closest('ul'),\n                        expanded = $parent.find('.show'),\n                        closed = $parent.find('.collapse:not(.show)'),\n                        collapseData;\n\n                    if (expanded && expanded.length) {\n                        collapseData = expanded.data('collapse');\n                        if (collapseData && collapseData.transitioning) {\n                            return;\n                        }\n                        if (expanded.collapse) { // if collapse plugin is available through bootstrap.js then use it\n                            expanded.collapse('hide');\n                            closed.collapse('show');\n                        } else { // otherwise just toggle in class on the two views\n                            expanded.removeClass('show');\n                            closed.addClass('show');\n                        }\n                        if ($this.is('i')) {\n                            $this.toggleClass(options.icons.time + ' ' + options.icons.date);\n                        } else {\n                            $this.find('i').toggleClass(options.icons.time + ' ' + options.icons.date);\n                        }\n\n                        // NOTE: uncomment if toggled state will be restored in show()\n                        //if (component) {\n                        //    component.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);\n                        //}\n                    }\n                },\n\n                showPicker: function () {\n                    widget.find('.timepicker > div:not(.timepicker-picker)').hide();\n                    widget.find('.timepicker .timepicker-picker').show();\n                },\n\n                showHours: function () {\n                    widget.find('.timepicker .timepicker-picker').hide();\n                    widget.find('.timepicker .timepicker-hours').show();\n                },\n\n                showMinutes: function () {\n                    widget.find('.timepicker .timepicker-picker').hide();\n                    widget.find('.timepicker .timepicker-minutes').show();\n                },\n\n                showSeconds: function () {\n                    widget.find('.timepicker .timepicker-picker').hide();\n                    widget.find('.timepicker .timepicker-seconds').show();\n                },\n\n                selectHour: function (e) {\n                    var hour = parseInt($(e.target).text(), 10);\n\n                    if (!use24Hours) {\n                        if (date.hours() >= 12) {\n                            if (hour !== 12) {\n                                hour += 12;\n                            }\n                        } else {\n                            if (hour === 12) {\n                                hour = 0;\n                            }\n                        }\n                    }\n                    setValue(date.clone().hours(hour));\n                    actions.showPicker.call(picker);\n                },\n\n                selectMinute: function (e) {\n                    setValue(date.clone().minutes(parseInt($(e.target).text(), 10)));\n                    actions.showPicker.call(picker);\n                },\n\n                selectSecond: function (e) {\n                    setValue(date.clone().seconds(parseInt($(e.target).text(), 10)));\n                    actions.showPicker.call(picker);\n                },\n\n                clear: clear,\n\n                today: function () {\n                    var todaysDate = getMoment();\n                    if (isValid(todaysDate, 'd')) {\n                        setValue(todaysDate);\n                    }\n                },\n\n                close: hide\n            },\n\n            doAction = function (e) {\n                if ($(e.currentTarget).is('.disabled')) {\n                    return false;\n                }\n                actions[$(e.currentTarget).data('action')].apply(picker, arguments);\n                return false;\n            },\n\n            /**\n             * Shows the widget. Possibly will emit dp.show and dp.change\n             */\n            show = function () {\n                var currentMoment,\n                    useCurrentGranularity = {\n                        'year': function (m) {\n                            return m.month(0).date(1).hours(0).seconds(0).minutes(0);\n                        },\n                        'month': function (m) {\n                            return m.date(1).hours(0).seconds(0).minutes(0);\n                        },\n                        'day': function (m) {\n                            return m.hours(0).seconds(0).minutes(0);\n                        },\n                        'hour': function (m) {\n                            return m.seconds(0).minutes(0);\n                        },\n                        'minute': function (m) {\n                            return m.seconds(0);\n                        }\n                    };\n\n                if (input.prop('disabled') || (!options.ignoreReadonly && input.prop('readonly')) || widget) {\n                    return picker;\n                }\n                if (input.val() !== undefined && input.val().trim().length !== 0) {\n                    setValue(parseInputDate(input.val().trim()));\n                } else if (unset && options.useCurrent && (options.inline || (input.is('input') && input.val().trim().length === 0))) {\n                    currentMoment = getMoment();\n                    if (typeof options.useCurrent === 'string') {\n                        currentMoment = useCurrentGranularity[options.useCurrent](currentMoment);\n                    }\n                    setValue(currentMoment);\n                }\n                widget = getTemplate();\n\n                fillDow();\n                fillMonths();\n\n                widget.find('.timepicker-hours').hide();\n                widget.find('.timepicker-minutes').hide();\n                widget.find('.timepicker-seconds').hide();\n\n                update();\n                showMode();\n\n                $(window).on('resize', place);\n                widget.on('click', '[data-action]', doAction); // this handles clicks on the widget\n                widget.on('mousedown', false);\n\n                if (component && component.hasClass('btn')) {\n                    component.toggleClass('active');\n                }\n                place();\n                widget.show();\n                if (options.focusOnShow && !input.is(':focus')) {\n                    input.focus();\n                }\n\n                notifyEvent({\n                    type: 'dp.show'\n                });\n                return picker;\n            },\n\n            /**\n             * Shows or hides the widget\n             */\n            toggle = function () {\n                return (widget ? hide() : show());\n            },\n\n            keydown = function (e) {\n                var handler = null,\n                    index,\n                    index2,\n                    pressedKeys = [],\n                    pressedModifiers = {},\n                    currentKey = e.which,\n                    keyBindKeys,\n                    allModifiersPressed,\n                    pressed = 'p';\n\n                keyState[currentKey] = pressed;\n\n                for (index in keyState) {\n                    if (keyState.hasOwnProperty(index) && keyState[index] === pressed) {\n                        pressedKeys.push(index);\n                        if (parseInt(index, 10) !== currentKey) {\n                            pressedModifiers[index] = true;\n                        }\n                    }\n                }\n\n                for (index in options.keyBinds) {\n                    if (options.keyBinds.hasOwnProperty(index) && typeof (options.keyBinds[index]) === 'function') {\n                        keyBindKeys = index.split(' ');\n                        if (keyBindKeys.length === pressedKeys.length && keyMap[currentKey] === keyBindKeys[keyBindKeys.length - 1]) {\n                            allModifiersPressed = true;\n                            for (index2 = keyBindKeys.length - 2; index2 >= 0; index2--) {\n                                if (!(keyMap[keyBindKeys[index2]] in pressedModifiers)) {\n                                    allModifiersPressed = false;\n                                    break;\n                                }\n                            }\n                            if (allModifiersPressed) {\n                                handler = options.keyBinds[index];\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (handler) {\n                    handler.call(picker, widget);\n                    e.stopPropagation();\n                    e.preventDefault();\n                }\n            },\n\n            keyup = function (e) {\n                keyState[e.which] = 'r';\n                e.stopPropagation();\n                e.preventDefault();\n            },\n\n            change = function (e) {\n                var val = $(e.target).val().trim(),\n                    parsedDate = val ? parseInputDate(val) : null;\n                setValue(parsedDate);\n                e.stopImmediatePropagation();\n                return false;\n            },\n\n            attachDatePickerElementEvents = function () {\n                input.on({\n                    'change': change,\n                    'blur': options.debug ? '' : hide,\n                    'keydown': keydown,\n                    'keyup': keyup,\n                    'focus': options.allowInputToggle ? show : ''\n                });\n\n                if (element.is('input')) {\n                    input.on({\n                        'focus': show\n                    });\n                } else if (component) {\n                    component.on('click', toggle);\n                    component.on('mousedown', false);\n                }\n            },\n\n            detachDatePickerElementEvents = function () {\n                input.off({\n                    'change': change,\n                    'blur': blur,\n                    'keydown': keydown,\n                    'keyup': keyup,\n                    'focus': options.allowInputToggle ? hide : ''\n                });\n\n                if (element.is('input')) {\n                    input.off({\n                        'focus': show\n                    });\n                } else if (component) {\n                    component.off('click', toggle);\n                    component.off('mousedown', false);\n                }\n            },\n\n            indexGivenDates = function (givenDatesArray) {\n                // Store given enabledDates and disabledDates as keys.\n                // This way we can check their existence in O(1) time instead of looping through whole array.\n                // (for example: options.enabledDates['2014-02-27'] === true)\n                var givenDatesIndexed = {};\n                $.each(givenDatesArray, function () {\n                    var dDate = parseInputDate(this);\n                    if (dDate.isValid()) {\n                        givenDatesIndexed[dDate.format('YYYY-MM-DD')] = true;\n                    }\n                });\n                return (Object.keys(givenDatesIndexed).length) ? givenDatesIndexed : false;\n            },\n\n            indexGivenHours = function (givenHoursArray) {\n                // Store given enabledHours and disabledHours as keys.\n                // This way we can check their existence in O(1) time instead of looping through whole array.\n                // (for example: options.enabledHours['2014-02-27'] === true)\n                var givenHoursIndexed = {};\n                $.each(givenHoursArray, function () {\n                    givenHoursIndexed[this] = true;\n                });\n                return (Object.keys(givenHoursIndexed).length) ? givenHoursIndexed : false;\n            },\n\n            initFormatting = function () {\n                var format = options.format || 'L LT';\n\n                actualFormat = format.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput) {\n                    var newinput = date.localeData().longDateFormat(formatInput) || formatInput;\n                    return newinput.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput2) { //temp fix for #740\n                        return date.localeData().longDateFormat(formatInput2) || formatInput2;\n                    });\n                });\n\n\n                parseFormats = options.extraFormats ? options.extraFormats.slice() : [];\n                if (parseFormats.indexOf(format) < 0 && parseFormats.indexOf(actualFormat) < 0) {\n                    parseFormats.push(actualFormat);\n                }\n\n                use24Hours = (actualFormat.toLowerCase().indexOf('a') < 1 && actualFormat.replace(/\\[.*?\\]/g, '').indexOf('h') < 1);\n\n                if (isEnabled('y')) {\n                    minViewModeNumber = 2;\n                }\n                if (isEnabled('M')) {\n                    minViewModeNumber = 1;\n                }\n                if (isEnabled('d')) {\n                    minViewModeNumber = 0;\n                }\n\n                currentViewMode = Math.max(minViewModeNumber, currentViewMode);\n\n                if (!unset) {\n                    setValue(date);\n                }\n            };\n\n        /********************************************************************************\n         *\n         * Public API functions\n         * =====================\n         *\n         * Important: Do not expose direct references to private objects or the options\n         * object to the outer world. Always return a clone when returning values or make\n         * a clone when setting a private variable.\n         *\n         ********************************************************************************/\n        picker.destroy = function () {\n            ///<summary>Destroys the widget and removes all attached event listeners</summary>\n            hide();\n            detachDatePickerElementEvents();\n            element.removeData('DateTimePicker');\n            element.removeData('date');\n        };\n\n        picker.toggle = toggle;\n\n        picker.show = show;\n\n        picker.hide = hide;\n\n        picker.disable = function () {\n            ///<summary>Disables the input element, the component is attached to, by adding a disabled=\"true\" attribute to it.\n            ///If the widget was visible before that call it is hidden. Possibly emits dp.hide</summary>\n            hide();\n            if (component && component.hasClass('btn')) {\n                component.addClass('disabled');\n            }\n            input.prop('disabled', true);\n            return picker;\n        };\n\n        picker.enable = function () {\n            ///<summary>Enables the input element, the component is attached to, by removing disabled attribute from it.</summary>\n            if (component && component.hasClass('btn')) {\n                component.removeClass('disabled');\n            }\n            input.prop('disabled', false);\n            return picker;\n        };\n\n        picker.ignoreReadonly = function (ignoreReadonly) {\n            if (arguments.length === 0) {\n                return options.ignoreReadonly;\n            }\n            if (typeof ignoreReadonly !== 'boolean') {\n                throw new TypeError('ignoreReadonly () expects a boolean parameter');\n            }\n            options.ignoreReadonly = ignoreReadonly;\n            return picker;\n        };\n\n        picker.options = function (newOptions) {\n            if (arguments.length === 0) {\n                return $.extend(true, {}, options);\n            }\n\n            if (!(newOptions instanceof Object)) {\n                throw new TypeError('options() options parameter should be an object');\n            }\n            $.extend(true, options, newOptions);\n            $.each(options, function (key, value) {\n                if (picker[key] !== undefined) {\n                    picker[key](value);\n                } else {\n                    throw new TypeError('option ' + key + ' is not recognized!');\n                }\n            });\n            return picker;\n        };\n\n        picker.date = function (newDate) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.date\">\n            ///<summary>Returns the component's model current date, a moment object or null if not set.</summary>\n            ///<returns type=\"Moment\">date.clone()</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>\n            ///<param name=\"newDate\" locid=\"$.fn.datetimepicker.date_p:newDate\">Takes string, Date, moment, null parameter.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                if (unset) {\n                    return null;\n                }\n                return date.clone();\n            }\n\n            if (newDate !== null && typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n                throw new TypeError('date() parameter must be one of [null, string, moment or Date]');\n            }\n\n            setValue(newDate === null ? null : parseInputDate(newDate));\n            return picker;\n        };\n\n        picker.format = function (newFormat) {\n            ///<summary>test su</summary>\n            ///<param name=\"newFormat\">info about para</param>\n            ///<returns type=\"string|boolean\">returns foo</returns>\n            if (arguments.length === 0) {\n                return options.format;\n            }\n\n            if ((typeof newFormat !== 'string') && ((typeof newFormat !== 'boolean') || (newFormat !== false))) {\n                throw new TypeError('format() expects a string or boolean:false parameter ' + newFormat);\n            }\n\n            options.format = newFormat;\n            if (actualFormat) {\n                initFormatting(); // reinit formatting\n            }\n            return picker;\n        };\n\n        picker.timeZone = function (newZone) {\n            if (arguments.length === 0) {\n                return options.timeZone;\n            }\n\n            if (typeof newZone !== 'string') {\n                throw new TypeError('newZone() expects a string parameter');\n            }\n\n            options.timeZone = newZone;\n\n            return picker;\n        };\n\n        picker.dayViewHeaderFormat = function (newFormat) {\n            if (arguments.length === 0) {\n                return options.dayViewHeaderFormat;\n            }\n\n            if (typeof newFormat !== 'string') {\n                throw new TypeError('dayViewHeaderFormat() expects a string parameter');\n            }\n\n            options.dayViewHeaderFormat = newFormat;\n            return picker;\n        };\n\n        picker.extraFormats = function (formats) {\n            if (arguments.length === 0) {\n                return options.extraFormats;\n            }\n\n            if (formats !== false && !(formats instanceof Array)) {\n                throw new TypeError('extraFormats() expects an array or false parameter');\n            }\n\n            options.extraFormats = formats;\n            if (parseFormats) {\n                initFormatting(); // reinit formatting\n            }\n            return picker;\n        };\n\n        picker.disabledDates = function (dates) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.disabledDates\">\n            ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n            ///<returns type=\"array\">options.disabledDates</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n            ///options.enabledDates if such exist.</summary>\n            ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.disabledDates ? $.extend({}, options.disabledDates) : options.disabledDates);\n            }\n\n            if (!dates) {\n                options.disabledDates = false;\n                update();\n                return picker;\n            }\n            if (!(dates instanceof Array)) {\n                throw new TypeError('disabledDates() expects an array parameter');\n            }\n            options.disabledDates = indexGivenDates(dates);\n            options.enabledDates = false;\n            update();\n            return picker;\n        };\n\n        picker.enabledDates = function (dates) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.enabledDates\">\n            ///<summary>Returns an array with the currently set enabled dates on the component.</summary>\n            ///<returns type=\"array\">options.enabledDates</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledDates if such exist.</summary>\n            ///<param name=\"dates\" locid=\"$.fn.datetimepicker.enabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.enabledDates ? $.extend({}, options.enabledDates) : options.enabledDates);\n            }\n\n            if (!dates) {\n                options.enabledDates = false;\n                update();\n                return picker;\n            }\n            if (!(dates instanceof Array)) {\n                throw new TypeError('enabledDates() expects an array parameter');\n            }\n            options.enabledDates = indexGivenDates(dates);\n            options.disabledDates = false;\n            update();\n            return picker;\n        };\n\n        picker.daysOfWeekDisabled = function (daysOfWeekDisabled) {\n            if (arguments.length === 0) {\n                return options.daysOfWeekDisabled.splice(0);\n            }\n\n            if ((typeof daysOfWeekDisabled === 'boolean') && !daysOfWeekDisabled) {\n                options.daysOfWeekDisabled = false;\n                update();\n                return picker;\n            }\n\n            if (!(daysOfWeekDisabled instanceof Array)) {\n                throw new TypeError('daysOfWeekDisabled() expects an array parameter');\n            }\n            options.daysOfWeekDisabled = daysOfWeekDisabled.reduce(function (previousValue, currentValue) {\n                currentValue = parseInt(currentValue, 10);\n                if (currentValue > 6 || currentValue < 0 || isNaN(currentValue)) {\n                    return previousValue;\n                }\n                if (previousValue.indexOf(currentValue) === -1) {\n                    previousValue.push(currentValue);\n                }\n                return previousValue;\n            }, []).sort();\n            if (options.useCurrent && !options.keepInvalid) {\n                var tries = 0;\n                while (!isValid(date, 'd')) {\n                    date.add(1, 'd');\n                    if (tries === 31) {\n                        throw 'Tried 31 times to find a valid date';\n                    }\n                    tries++;\n                }\n                setValue(date);\n            }\n            update();\n            return picker;\n        };\n\n        picker.maxDate = function (maxDate) {\n            if (arguments.length === 0) {\n                return options.maxDate ? options.maxDate.clone() : options.maxDate;\n            }\n\n            if ((typeof maxDate === 'boolean') && maxDate === false) {\n                options.maxDate = false;\n                update();\n                return picker;\n            }\n\n            if (typeof maxDate === 'string') {\n                if (maxDate === 'now' || maxDate === 'moment') {\n                    maxDate = getMoment();\n                }\n            }\n\n            var parsedDate = parseInputDate(maxDate);\n\n            if (!parsedDate.isValid()) {\n                throw new TypeError('maxDate() Could not parse date parameter: ' + maxDate);\n            }\n            if (options.minDate && parsedDate.isBefore(options.minDate)) {\n                throw new TypeError('maxDate() date parameter is before options.minDate: ' + parsedDate.format(actualFormat));\n            }\n            options.maxDate = parsedDate;\n            if (options.useCurrent && !options.keepInvalid && date.isAfter(maxDate)) {\n                setValue(options.maxDate);\n            }\n            if (viewDate.isAfter(parsedDate)) {\n                viewDate = parsedDate.clone().subtract(options.stepping, 'm');\n            }\n            update();\n            return picker;\n        };\n\n        picker.minDate = function (minDate) {\n            if (arguments.length === 0) {\n                return options.minDate ? options.minDate.clone() : options.minDate;\n            }\n\n            if ((typeof minDate === 'boolean') && minDate === false) {\n                options.minDate = false;\n                update();\n                return picker;\n            }\n\n            if (typeof minDate === 'string') {\n                if (minDate === 'now' || minDate === 'moment') {\n                    minDate = getMoment();\n                }\n            }\n\n            var parsedDate = parseInputDate(minDate);\n\n            if (!parsedDate.isValid()) {\n                throw new TypeError('minDate() Could not parse date parameter: ' + minDate);\n            }\n            if (options.maxDate && parsedDate.isAfter(options.maxDate)) {\n                throw new TypeError('minDate() date parameter is after options.maxDate: ' + parsedDate.format(actualFormat));\n            }\n            options.minDate = parsedDate;\n            if (options.useCurrent && !options.keepInvalid && date.isBefore(minDate)) {\n                setValue(options.minDate);\n            }\n            if (viewDate.isBefore(parsedDate)) {\n                viewDate = parsedDate.clone().add(options.stepping, 'm');\n            }\n            update();\n            return picker;\n        };\n\n        picker.defaultDate = function (defaultDate) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.defaultDate\">\n            ///<summary>Returns a moment with the options.defaultDate option configuration or false if not set</summary>\n            ///<returns type=\"Moment\">date.clone()</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Will set the picker's inital date. If a boolean:false value is passed the options.defaultDate parameter is cleared.</summary>\n            ///<param name=\"defaultDate\" locid=\"$.fn.datetimepicker.defaultDate_p:defaultDate\">Takes a string, Date, moment, boolean:false</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return options.defaultDate ? options.defaultDate.clone() : options.defaultDate;\n            }\n            if (!defaultDate) {\n                options.defaultDate = false;\n                return picker;\n            }\n\n            if (typeof defaultDate === 'string') {\n                if (defaultDate === 'now' || defaultDate === 'moment') {\n                    defaultDate = getMoment();\n                } else {\n                    defaultDate = getMoment(defaultDate);\n                }\n            }\n\n            var parsedDate = parseInputDate(defaultDate);\n            if (!parsedDate.isValid()) {\n                throw new TypeError('defaultDate() Could not parse date parameter: ' + defaultDate);\n            }\n            if (!isValid(parsedDate)) {\n                throw new TypeError('defaultDate() date passed is invalid according to component setup validations');\n            }\n\n            options.defaultDate = parsedDate;\n\n            if ((options.defaultDate && options.inline) || input.val().trim() === '') {\n                setValue(options.defaultDate);\n            }\n            return picker;\n        };\n\n        picker.locale = function (locale) {\n            if (arguments.length === 0) {\n                return options.locale;\n            }\n\n            if (!moment.localeData(locale)) {\n                throw new TypeError('locale() locale ' + locale + ' is not loaded from moment locales!');\n            }\n\n            options.locale = locale;\n            date.locale(options.locale);\n            viewDate.locale(options.locale);\n\n            if (actualFormat) {\n                initFormatting(); // reinit formatting\n            }\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.stepping = function (stepping) {\n            if (arguments.length === 0) {\n                return options.stepping;\n            }\n\n            stepping = parseInt(stepping, 10);\n            if (isNaN(stepping) || stepping < 1) {\n                stepping = 1;\n            }\n            options.stepping = stepping;\n            return picker;\n        };\n\n        picker.useCurrent = function (useCurrent) {\n            var useCurrentOptions = ['year', 'month', 'day', 'hour', 'minute'];\n            if (arguments.length === 0) {\n                return options.useCurrent;\n            }\n\n            if ((typeof useCurrent !== 'boolean') && (typeof useCurrent !== 'string')) {\n                throw new TypeError('useCurrent() expects a boolean or string parameter');\n            }\n            if (typeof useCurrent === 'string' && useCurrentOptions.indexOf(useCurrent.toLowerCase()) === -1) {\n                throw new TypeError('useCurrent() expects a string parameter of ' + useCurrentOptions.join(', '));\n            }\n            options.useCurrent = useCurrent;\n            return picker;\n        };\n\n        picker.collapse = function (collapse) {\n            if (arguments.length === 0) {\n                return options.collapse;\n            }\n\n            if (typeof collapse !== 'boolean') {\n                throw new TypeError('collapse() expects a boolean parameter');\n            }\n            if (options.collapse === collapse) {\n                return picker;\n            }\n            options.collapse = collapse;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.icons = function (icons) {\n            if (arguments.length === 0) {\n                return $.extend({}, options.icons);\n            }\n\n            if (!(icons instanceof Object)) {\n                throw new TypeError('icons() expects parameter to be an Object');\n            }\n            $.extend(options.icons, icons);\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.tooltips = function (tooltips) {\n            if (arguments.length === 0) {\n                return $.extend({}, options.tooltips);\n            }\n\n            if (!(tooltips instanceof Object)) {\n                throw new TypeError('tooltips() expects parameter to be an Object');\n            }\n            $.extend(options.tooltips, tooltips);\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.useStrict = function (useStrict) {\n            if (arguments.length === 0) {\n                return options.useStrict;\n            }\n\n            if (typeof useStrict !== 'boolean') {\n                throw new TypeError('useStrict() expects a boolean parameter');\n            }\n            options.useStrict = useStrict;\n            return picker;\n        };\n\n        picker.sideBySide = function (sideBySide) {\n            if (arguments.length === 0) {\n                return options.sideBySide;\n            }\n\n            if (typeof sideBySide !== 'boolean') {\n                throw new TypeError('sideBySide() expects a boolean parameter');\n            }\n            options.sideBySide = sideBySide;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.viewMode = function (viewMode) {\n            if (arguments.length === 0) {\n                return options.viewMode;\n            }\n\n            if (typeof viewMode !== 'string') {\n                throw new TypeError('viewMode() expects a string parameter');\n            }\n\n            if (viewModes.indexOf(viewMode) === -1) {\n                throw new TypeError('viewMode() parameter must be one of (' + viewModes.join(', ') + ') value');\n            }\n\n            options.viewMode = viewMode;\n            currentViewMode = Math.max(viewModes.indexOf(viewMode), minViewModeNumber);\n\n            showMode();\n            return picker;\n        };\n\n        picker.toolbarPlacement = function (toolbarPlacement) {\n            if (arguments.length === 0) {\n                return options.toolbarPlacement;\n            }\n\n            if (typeof toolbarPlacement !== 'string') {\n                throw new TypeError('toolbarPlacement() expects a string parameter');\n            }\n            if (toolbarPlacements.indexOf(toolbarPlacement) === -1) {\n                throw new TypeError('toolbarPlacement() parameter must be one of (' + toolbarPlacements.join(', ') + ') value');\n            }\n            options.toolbarPlacement = toolbarPlacement;\n\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.widgetPositioning = function (widgetPositioning) {\n            if (arguments.length === 0) {\n                return $.extend({}, options.widgetPositioning);\n            }\n\n            if (({}).toString.call(widgetPositioning) !== '[object Object]') {\n                throw new TypeError('widgetPositioning() expects an object variable');\n            }\n            if (widgetPositioning.horizontal) {\n                if (typeof widgetPositioning.horizontal !== 'string') {\n                    throw new TypeError('widgetPositioning() horizontal variable must be a string');\n                }\n                widgetPositioning.horizontal = widgetPositioning.horizontal.toLowerCase();\n                if (horizontalModes.indexOf(widgetPositioning.horizontal) === -1) {\n                    throw new TypeError('widgetPositioning() expects horizontal parameter to be one of (' + horizontalModes.join(', ') + ')');\n                }\n                options.widgetPositioning.horizontal = widgetPositioning.horizontal;\n            }\n            if (widgetPositioning.vertical) {\n                if (typeof widgetPositioning.vertical !== 'string') {\n                    throw new TypeError('widgetPositioning() vertical variable must be a string');\n                }\n                widgetPositioning.vertical = widgetPositioning.vertical.toLowerCase();\n                if (verticalModes.indexOf(widgetPositioning.vertical) === -1) {\n                    throw new TypeError('widgetPositioning() expects vertical parameter to be one of (' + verticalModes.join(', ') + ')');\n                }\n                options.widgetPositioning.vertical = widgetPositioning.vertical;\n            }\n            update();\n            return picker;\n        };\n\n        picker.calendarWeeks = function (calendarWeeks) {\n            if (arguments.length === 0) {\n                return options.calendarWeeks;\n            }\n\n            if (typeof calendarWeeks !== 'boolean') {\n                throw new TypeError('calendarWeeks() expects parameter to be a boolean value');\n            }\n\n            options.calendarWeeks = calendarWeeks;\n            update();\n            return picker;\n        };\n\n        picker.showTodayButton = function (showTodayButton) {\n            if (arguments.length === 0) {\n                return options.showTodayButton;\n            }\n\n            if (typeof showTodayButton !== 'boolean') {\n                throw new TypeError('showTodayButton() expects a boolean parameter');\n            }\n\n            options.showTodayButton = showTodayButton;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.showClear = function (showClear) {\n            if (arguments.length === 0) {\n                return options.showClear;\n            }\n\n            if (typeof showClear !== 'boolean') {\n                throw new TypeError('showClear() expects a boolean parameter');\n            }\n\n            options.showClear = showClear;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.widgetParent = function (widgetParent) {\n            if (arguments.length === 0) {\n                return options.widgetParent;\n            }\n\n            if (typeof widgetParent === 'string') {\n                widgetParent = $(widgetParent);\n            }\n\n            if (widgetParent !== null && (typeof widgetParent !== 'string' && !(widgetParent instanceof $))) {\n                throw new TypeError('widgetParent() expects a string or a jQuery object parameter');\n            }\n\n            options.widgetParent = widgetParent;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.keepOpen = function (keepOpen) {\n            if (arguments.length === 0) {\n                return options.keepOpen;\n            }\n\n            if (typeof keepOpen !== 'boolean') {\n                throw new TypeError('keepOpen() expects a boolean parameter');\n            }\n\n            options.keepOpen = keepOpen;\n            return picker;\n        };\n\n        picker.focusOnShow = function (focusOnShow) {\n            if (arguments.length === 0) {\n                return options.focusOnShow;\n            }\n\n            if (typeof focusOnShow !== 'boolean') {\n                throw new TypeError('focusOnShow() expects a boolean parameter');\n            }\n\n            options.focusOnShow = focusOnShow;\n            return picker;\n        };\n\n        picker.inline = function (inline) {\n            if (arguments.length === 0) {\n                return options.inline;\n            }\n\n            if (typeof inline !== 'boolean') {\n                throw new TypeError('inline() expects a boolean parameter');\n            }\n\n            options.inline = inline;\n            return picker;\n        };\n\n        picker.clear = function () {\n            clear();\n            return picker;\n        };\n\n        picker.keyBinds = function (keyBinds) {\n            if (arguments.length === 0) {\n                return options.keyBinds;\n            }\n\n            options.keyBinds = keyBinds;\n            return picker;\n        };\n\n        picker.getMoment = function (d) {\n            return getMoment(d);\n        };\n\n        picker.debug = function (debug) {\n            if (typeof debug !== 'boolean') {\n                throw new TypeError('debug() expects a boolean parameter');\n            }\n\n            options.debug = debug;\n            return picker;\n        };\n\n        picker.allowInputToggle = function (allowInputToggle) {\n            if (arguments.length === 0) {\n                return options.allowInputToggle;\n            }\n\n            if (typeof allowInputToggle !== 'boolean') {\n                throw new TypeError('allowInputToggle() expects a boolean parameter');\n            }\n\n            options.allowInputToggle = allowInputToggle;\n            return picker;\n        };\n\n        picker.showClose = function (showClose) {\n            if (arguments.length === 0) {\n                return options.showClose;\n            }\n\n            if (typeof showClose !== 'boolean') {\n                throw new TypeError('showClose() expects a boolean parameter');\n            }\n\n            options.showClose = showClose;\n            return picker;\n        };\n\n        picker.keepInvalid = function (keepInvalid) {\n            if (arguments.length === 0) {\n                return options.keepInvalid;\n            }\n\n            if (typeof keepInvalid !== 'boolean') {\n                throw new TypeError('keepInvalid() expects a boolean parameter');\n            }\n            options.keepInvalid = keepInvalid;\n            return picker;\n        };\n\n        picker.datepickerInput = function (datepickerInput) {\n            if (arguments.length === 0) {\n                return options.datepickerInput;\n            }\n\n            if (typeof datepickerInput !== 'string') {\n                throw new TypeError('datepickerInput() expects a string parameter');\n            }\n\n            options.datepickerInput = datepickerInput;\n            return picker;\n        };\n\n        picker.parseInputDate = function (parseInputDate) {\n            if (arguments.length === 0) {\n                return options.parseInputDate;\n            }\n\n            if (typeof parseInputDate !== 'function') {\n                throw new TypeError('parseInputDate() sholud be as function');\n            }\n\n            options.parseInputDate = parseInputDate;\n\n            return picker;\n        };\n\n        picker.disabledTimeIntervals = function (disabledTimeIntervals) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.disabledTimeIntervals\">\n            ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n            ///<returns type=\"array\">options.disabledTimeIntervals</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n            ///options.enabledDates if such exist.</summary>\n            ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledTimeIntervals_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.disabledTimeIntervals ? $.extend({}, options.disabledTimeIntervals) : options.disabledTimeIntervals);\n            }\n\n            if (!disabledTimeIntervals) {\n                options.disabledTimeIntervals = false;\n                update();\n                return picker;\n            }\n            if (!(disabledTimeIntervals instanceof Array)) {\n                throw new TypeError('disabledTimeIntervals() expects an array parameter');\n            }\n            options.disabledTimeIntervals = disabledTimeIntervals;\n            update();\n            return picker;\n        };\n\n        picker.disabledHours = function (hours) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.disabledHours\">\n            ///<summary>Returns an array with the currently set disabled hours on the component.</summary>\n            ///<returns type=\"array\">options.disabledHours</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n            ///options.enabledHours if such exist.</summary>\n            ///<param name=\"hours\" locid=\"$.fn.datetimepicker.disabledHours_p:hours\">Takes an [ int ] of values and disallows the user to select only from those hours.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.disabledHours ? $.extend({}, options.disabledHours) : options.disabledHours);\n            }\n\n            if (!hours) {\n                options.disabledHours = false;\n                update();\n                return picker;\n            }\n            if (!(hours instanceof Array)) {\n                throw new TypeError('disabledHours() expects an array parameter');\n            }\n            options.disabledHours = indexGivenHours(hours);\n            options.enabledHours = false;\n            if (options.useCurrent && !options.keepInvalid) {\n                var tries = 0;\n                while (!isValid(date, 'h')) {\n                    date.add(1, 'h');\n                    if (tries === 24) {\n                        throw 'Tried 24 times to find a valid date';\n                    }\n                    tries++;\n                }\n                setValue(date);\n            }\n            update();\n            return picker;\n        };\n\n        picker.enabledHours = function (hours) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.enabledHours\">\n            ///<summary>Returns an array with the currently set enabled hours on the component.</summary>\n            ///<returns type=\"array\">options.enabledHours</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledHours if such exist.</summary>\n            ///<param name=\"hours\" locid=\"$.fn.datetimepicker.enabledHours_p:hours\">Takes an [ int ] of values and allows the user to select only from those hours.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.enabledHours ? $.extend({}, options.enabledHours) : options.enabledHours);\n            }\n\n            if (!hours) {\n                options.enabledHours = false;\n                update();\n                return picker;\n            }\n            if (!(hours instanceof Array)) {\n                throw new TypeError('enabledHours() expects an array parameter');\n            }\n            options.enabledHours = indexGivenHours(hours);\n            options.disabledHours = false;\n            if (options.useCurrent && !options.keepInvalid) {\n                var tries = 0;\n                while (!isValid(date, 'h')) {\n                    date.add(1, 'h');\n                    if (tries === 24) {\n                        throw 'Tried 24 times to find a valid date';\n                    }\n                    tries++;\n                }\n                setValue(date);\n            }\n            update();\n            return picker;\n        };\n        /**\n         * Returns the component's model current viewDate, a moment object or null if not set. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.\n         * @param {Takes string, viewDate, moment, null parameter.} newDate\n         * @returns {viewDate.clone()}\n         */\n        picker.viewDate = function (newDate) {\n            if (arguments.length === 0) {\n                return viewDate.clone();\n            }\n\n            if (!newDate) {\n                viewDate = date.clone();\n                return picker;\n            }\n\n            if (typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n                throw new TypeError('viewDate() parameter must be one of [string, moment or Date]');\n            }\n\n            viewDate = parseInputDate(newDate);\n            viewUpdate();\n            return picker;\n        };\n\n        // initializing element and component attributes\n        if (element.is('input')) {\n            input = element;\n        } else {\n            input = element.find(options.datepickerInput);\n            if (input.length === 0) {\n                input = element.find('input');\n            } else if (!input.is('input')) {\n                throw new Error('CSS class \"' + options.datepickerInput + '\" cannot be applied to non input element');\n            }\n        }\n\n        if (element.hasClass('input-group')) {\n            // in case there is more then one 'input-group-addon' Issue #48\n            if (element.find('.datepickerbutton').length === 0) {\n                component = element.find('.input-group-addon');\n            } else {\n                component = element.find('.datepickerbutton');\n            }\n        }\n\n        if (!options.inline && !input.is('input')) {\n            throw new Error('Could not initialize DateTimePicker without an input element');\n        }\n\n        // Set defaults for date here now instead of in var declaration\n        date = getMoment();\n        viewDate = date.clone();\n\n        $.extend(true, options, dataToOptions());\n\n        picker.options(options);\n\n        initFormatting();\n\n        attachDatePickerElementEvents();\n\n        if (input.prop('disabled')) {\n            picker.disable();\n        }\n        if (input.is('input') && input.val().trim().length !== 0) {\n            setValue(parseInputDate(input.val().trim()));\n        }\n        else if (options.defaultDate && input.attr('placeholder') === undefined) {\n            setValue(options.defaultDate);\n        }\n        if (options.inline) {\n            show();\n        }\n        return picker;\n    };\n\n    /********************************************************************************\n     *\n     * jQuery plugin constructor and defaults object\n     *\n     ********************************************************************************/\n\n    /**\n    * See (http://jquery.com/).\n    * @name jQuery\n    * @class\n    * See the jQuery Library  (http://jquery.com/) for full details.  This just\n    * documents the function and classes that are added to jQuery by this plug-in.\n    */\n    /**\n     * See (http://jquery.com/)\n     * @name fn\n     * @class\n     * See the jQuery Library  (http://jquery.com/) for full details.  This just\n     * documents the function and classes that are added to jQuery by this plug-in.\n     * @memberOf jQuery\n     */\n    /**\n     * Show comments\n     * @class datetimepicker\n     * @memberOf jQuery.fn\n     */\n    $.fn.datetimepicker = function (options) {\n        options = options || {};\n\n        var args = Array.prototype.slice.call(arguments, 1),\n            isInstance = true,\n            thisMethods = ['destroy', 'hide', 'show', 'toggle'],\n            returnValue;\n\n        if (typeof options === 'object') {\n            return this.each(function () {\n                var $this = $(this),\n                    _options;\n                if (!$this.data('DateTimePicker')) {\n                    // create a private copy of the defaults object\n                    _options = $.extend(true, {}, $.fn.datetimepicker.defaults, options);\n                    $this.data('DateTimePicker', dateTimePicker($this, _options));\n                }\n            });\n        } else if (typeof options === 'string') {\n            this.each(function () {\n                var $this = $(this),\n                    instance = $this.data('DateTimePicker');\n                if (!instance) {\n                    throw new Error('bootstrap-datetimepicker(\"' + options + '\") method was called on an element that is not using DateTimePicker');\n                }\n\n                returnValue = instance[options].apply(instance, args);\n                isInstance = returnValue === instance;\n            });\n\n            if (isInstance || $.inArray(options, thisMethods) > -1) {\n                return this;\n            }\n\n            return returnValue;\n        }\n\n        throw new TypeError('Invalid arguments for DateTimePicker: ' + options);\n    };\n\n    $.fn.datetimepicker.defaults = {\n        timeZone: '',\n        format: false,\n        dayViewHeaderFormat: 'MMMM YYYY',\n        extraFormats: false,\n        stepping: 1,\n        minDate: false,\n        maxDate: false,\n        useCurrent: true,\n        collapse: true,\n        locale: moment.locale(),\n        defaultDate: false,\n        disabledDates: false,\n        enabledDates: false,\n        icons: {\n            time: 'fa fa-clock-o',\n            date: 'fa fa-calendar',\n            up: 'fa fa-chevron-up',\n            down: 'fa fa-chevron-down',\n            previous: 'fa fa-chevron-left',\n            next: 'fa fa-chevron-right',\n            today: 'fa fa-crosshairs',\n            clear: 'fa fa-trash-o',\n            close: 'fa fa-times'\n        },\n        tooltips: {\n            today: 'Go to today',\n            clear: 'Clear selection',\n            close: 'Close the picker',\n            selectMonth: 'Select Month',\n            prevMonth: 'Previous Month',\n            nextMonth: 'Next Month',\n            selectYear: 'Select Year',\n            prevYear: 'Previous Year',\n            nextYear: 'Next Year',\n            selectDecade: 'Select Decade',\n            prevDecade: 'Previous Decade',\n            nextDecade: 'Next Decade',\n            prevCentury: 'Previous Century',\n            nextCentury: 'Next Century',\n            pickHour: 'Pick Hour',\n            incrementHour: 'Increment Hour',\n            decrementHour: 'Decrement Hour',\n            pickMinute: 'Pick Minute',\n            incrementMinute: 'Increment Minute',\n            decrementMinute: 'Decrement Minute',\n            pickSecond: 'Pick Second',\n            incrementSecond: 'Increment Second',\n            decrementSecond: 'Decrement Second',\n            togglePeriod: 'Toggle Period',\n            selectTime: 'Select Time'\n        },\n        useStrict: false,\n        sideBySide: false,\n        daysOfWeekDisabled: false,\n        calendarWeeks: false,\n        viewMode: 'days',\n        toolbarPlacement: 'default',\n        showTodayButton: false,\n        showClear: false,\n        showClose: false,\n        widgetPositioning: {\n            horizontal: 'auto',\n            vertical: 'auto'\n        },\n        widgetParent: null,\n        ignoreReadonly: false,\n        keepOpen: false,\n        focusOnShow: true,\n        inline: false,\n        keepInvalid: false,\n        datepickerInput: '.datepickerinput',\n        keyBinds: {\n            up: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(7, 'd'));\n                } else {\n                    this.date(d.clone().add(this.stepping(), 'm'));\n                }\n            },\n            down: function (widget) {\n                if (!widget) {\n                    this.show();\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(7, 'd'));\n                } else {\n                    this.date(d.clone().subtract(this.stepping(), 'm'));\n                }\n            },\n            'control up': function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(1, 'y'));\n                } else {\n                    this.date(d.clone().add(1, 'h'));\n                }\n            },\n            'control down': function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(1, 'y'));\n                } else {\n                    this.date(d.clone().subtract(1, 'h'));\n                }\n            },\n            left: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(1, 'd'));\n                }\n            },\n            right: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(1, 'd'));\n                }\n            },\n            pageUp: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(1, 'M'));\n                }\n            },\n            pageDown: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(1, 'M'));\n                }\n            },\n            enter: function () {\n                this.hide();\n            },\n            escape: function () {\n                this.hide();\n            },\n            //tab: function (widget) { //this break the flow of the form. disabling for now\n            //    var toggle = widget.find('.picker-switch a[data-action=\"togglePicker\"]');\n            //    if(toggle.length > 0) toggle.click();\n            //},\n            'control space': function (widget) {\n                if (!widget) {\n                    return;\n                }\n                if (widget.find('.timepicker').is(':visible')) {\n                    widget.find('.btn[data-action=\"togglePeriod\"]').click();\n                }\n            },\n            t: function () {\n                this.date(this.getMoment());\n            },\n            'delete': function () {\n                this.clear();\n            }\n        },\n        debug: false,\n        allowInputToggle: false,\n        disabledTimeIntervals: false,\n        disabledHours: false,\n        enabledHours: false,\n        viewDate: false\n    };\n\n    return $.fn.datetimepicker;\n}));\n"]},"metadata":{},"sourceType":"script"}